{"version":3,"sources":["containers/Home/home.module.scss","Nav.module.scss","containers/Product/productPage.module.scss","containers/Auth/Auth/Auth.module.scss","Components/UI/Input/Input.module.scss","Components/UI/Button/Button.module.scss","assets/image sync /^/.*/.jpg$","App.module.scss","assets/others/user_name.png","assets/others/password.png","assets/others/italy-1587287_1280.jpg","Components/UI/Spinner/Spinner.module.scss","assets/image/1.jpg","assets/image/10.jpg","assets/image/11.jpg","assets/image/12.jpg","assets/image/13.jpg","assets/image/14.jpg","assets/image/2.jpg","assets/image/3.jpg","assets/image/4.jpg","assets/image/5.jpg","assets/image/6.jpg","assets/image/7.jpg","assets/image/8.jpg","assets/image/9.jpg","store/action/message-action.js","store/action/actionTypes.js","store/action/auth-action.js","store/action/cart.js","Nav.js","containers/Home/Home.js","Components/UI/Spinner/Spinner.js","Components/UI/Input/Input.js","Components/UI/Button/Button.js","containers/Auth/Auth/Auth.js","containers/Auth/Logout/Logout.js","containers/pages/userAccount.js","store/action/product.js","containers/Product/productPage.js","routes.js","containers/pages/pages.js","App.js","serviceWorker.js","store/utility.js","store/reducers/auth-reducer.js","store/reducers/message-reducer.js","store/action/action.js","store/reducers/reduxPractice.js","store/reducers/cart.js","store/reducers/product.js","index.js","store/localStorage.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","showAlertMessage","type","checkAlertTimeout","dispatch","setTimeout","authSuccess","token","userId","idToken","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","auth","email","password","isSignup","console","log","authData","returnSecureToken","url","axios","post","then","response","setItem","data","moment","require","sum","unix","parseInt","expiresIn","format","localId","catch","err","error","cart","ADD_TOCART","CLEAR_CART","DELETE_ITEM","ONOPEN_CART","OPENCART_AFTERAUTH","history","createBrowserHistory","Navbar","state","item","modal","selectedOption","urlRouter","pageName","redirect","checkOut","totalPrice","alert","props","clearCart","push","window","location","reload","signinToCheckout","openCartAfterAuth","toggle","setState","componentDidUpdate","prevProps","isOpenCart","cartStateOpenCartrtAfterAuth","i","FontAwesome","totalQty","this","qty","length","className","styles","shoppingcartWrap","onClick","name","shoppingcartIcon","numberWrap","number","reduce","acc","price","whiteBorder","isAuthenticated","isAlertMessage","popupMessage","checkIcon","style","position","Modal","isOpen","ModalHeader","ModalBody","Table","index","key","scope","Button","backgroundColor","deleteItem","Alert","color","ModalFooter","navContainer","to","shieldIcon","Component","connect","message","addToCart","product","actionTypesCart","colorOptions","value","label","Home","colors","inputArray","document","getElementsByTagName","isClearButton","productJson","selectedColor","isShowKeyboard","handleChange","clearFilter","Boolean","checked","displaySelectedProduct","colorSelected","target","getAttribute","sortColor","filter","componentDidMount","cursor","marginBottom","displayColorsOnLeft","v","css","select","display","data-tag","bind","fuck1","background","productList","productWrap","src","img","alt","productDescription","desc","pageWrap","homeAside1","paddingRight","titleWrap","homeColorFilter","homeAside2","header","mobileFilter","defaultValue","onChange","options","width","isSearchable","placeholder","foo","spinner","classes","Loader","input","inputElement","inputClasses","InputElement","invalid","shouldValidate","touched","Invalid","elementType","join","elementConfig","changed","option","displayValue","Input","Label","button","disabled","btnType","clicked","children","Auth","translationJson","controls","validation","required","isEmail","valid","minLength","displayHintText","controlName","hintElement","getElementsByClassName","innerHTML","inputChangedHandler","event","updatedControls","checkValidity","onClearInputIcon","screen","imgElement","submitHandler","preventDefault","onAuth","switchAuthModeHandler","prevState","onClearErrorMessage","imagesInInputs","userName","rules","isValid","trim","maxLength","test","isNumeric","formElementsArray","config","errorMessage","errorMessageContent","form","onKeyUp","class","margin","fontWeight","fontSize","top","left","loading","Spinner","undefined","found","en","find","ch","bullhorn","generalText","productSelected","wrap","leftBackground","generalExtraLarge","onSubmit","textAlign","fontWweight","marginTop","textDecoration","productDetail","actions","Logout","onLogout","userAccount","productPage","checkoutText","addOrCheckout","onOpenCart","match","params","findProduct","stateOpenCartAfterAuth","productImage","buttonColor","orange","skyblue","productPageWrap","productFlex","rightSection","container","numberTitle","marginLeft","routes","path","component","exact","breadcrumbName","actionTypesProduct","App","authCheckState","Nav","center","renderRoutes","getItem","expirationDate","Date","getTime","hostname","updateObject","oldObject","updatedProperties","initialState","authRedirectPath","authStart","action","authFail","authLogout","clearErrorMessage","reducer","messageReducer","Actions","results","actionTypes","concat","title","description","result","SHOW_ALERTMESSAGE","rootReducer","combineReducers","authReducer","profile","reduxPractice","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedState","serializedState","JSON","parse","loadState","store","createStore","applyMiddleware","thunk","subscribe","stringify","saveState","getState","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"gIACAA,EAAOC,QAAU,CAAC,SAAW,uBAAuB,WAAa,yBAAyB,WAAa,yBAAyB,UAAY,wBAAwB,gBAAkB,8BAA8B,YAAc,0BAA0B,YAAc,0BAA0B,mBAAqB,iCAAiC,aAAe,2BAA2B,OAAS,qBAAqB,MAAQ,oBAAoB,MAAQ,oBAAoB,MAAQ,sB,oBCAleD,EAAOC,QAAU,CAAC,aAAe,0BAA0B,WAAa,wBAAwB,iBAAmB,8BAA8B,iBAAmB,8BAA8B,WAAa,wBAAwB,OAAS,oBAAoB,YAAc,yBAAyB,aAAe,0BAA0B,UAAY,yB,oBCAhWD,EAAOC,QAAU,CAAC,gBAAkB,qCAAqC,YAAc,iCAAiC,aAAe,kCAAkC,UAAY,+BAA+B,YAAc,iCAAiC,OAAS,4BAA4B,QAAU,+B,+6DCAlTD,EAAOC,QAAU,CAAC,kBAAoB,gCAAgC,iBAAmB,+BAA+B,YAAc,0BAA0B,KAAO,mBAAmB,SAAW,uBAAuB,MAAQ,oBAAoB,QAAU,wB,kgBCAlQD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,MAAQ,qBAAqB,aAAe,4BAA4B,QAAU,yB,0BCAjID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,OAAS,yB,8BCD7F,IAAIC,EAAM,CACT,UAAW,IACX,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,KAIZ,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,I,oCClCpBL,EAAOC,QAAU,CAAC,WAAW,sBAAsB,gBAAgB,2BAA2B,aAAa,wBAAwB,WAAW,sBAAsB,OAAS,sB,gSCD7KD,EAAOC,QAAU,0xE,cCAjBD,EAAOC,QAAU,svD,gBCAjBD,EAAOC,QAAU,IAA0B,gD,gBCC3CD,EAAOC,QAAU,CAAC,OAAS,wBAAwB,MAAQ,yB,0GCD3DD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,+JCY9Bc,EAAmB,WAC5B,MAAM,CACFC,KCVyB,sBDkBpBC,EAAoB,WAC7B,OAAO,SAAAC,GACHC,WAAW,WACPD,EAASH,MACV,Q,iBEbEK,EAAc,SAACC,EAAOC,GAC/B,MAAO,CACHN,KDdoB,eCepBO,QAASF,EACTC,OAAQA,IAaHE,EAAS,WAIlB,OAHAC,aAAaC,WAAW,SACxBD,aAAaC,WAAW,kBACxBD,aAAaC,WAAW,UACjB,CACHV,KDhCmB,gBCuCdW,EAAmB,SAAAC,GAC5B,OAAO,SAAAV,GACHC,WAAW,WACPD,EAASM,MACO,IAAjBI,KAaEC,EAAO,SAACC,EAAOC,EAAUC,GAClC,OAAO,SAAAd,GACJA,GAtDHe,QAAQC,IAAI,aACN,CACFlB,KDTkB,gBC8DnB,IAAMmB,EAAW,CACbL,MAAOA,EACPC,SAAUA,EACVK,mBAAmB,GAEnBC,EAAM,wGACLL,IACDK,EAAM,qHAEVC,IAAMC,KAAKF,EAAKF,GACdK,KAAK,SAAAC,GAEFhB,aAAaiB,QAAQ,QAASD,EAASE,KAAKpB,SAC5C,IAAMqB,EAASC,EAAQ,KAGjBC,EADgBF,IAASG,OACHC,SAASP,EAASE,KAAKM,WACnDxB,aAAaiB,QAAQ,iBAAkBE,EAAOG,KAAKD,GAAKI,OAAO,wBAC/DzB,aAAaiB,QAAQ,SAAUD,EAASE,KAAKQ,SAC7CjC,EAASE,EAAYqB,EAASE,KAAKpB,QAASkB,EAASE,KAAKQ,UAC1DjC,EAASS,EAAiBc,EAASE,KAAKM,cAE3CG,MAAM,SAAAC,GAhES,IAACC,EAiEbrB,QAAQC,IAAI,SAASmB,GACrBnC,GAlEaoC,EAkEKD,EAAIZ,SAASE,KAAKW,MAjE5CrB,QAAQC,IAAI,SAASoB,GACf,CACFtC,KDrBiB,YCsBjBsC,MAAOA,S,kHCvBTC,EAAO,CACTC,WAAW,aACXC,WAAY,aACZC,YAAY,cACZC,YAAY,cACZC,mBAAoB,sBCKlBC,EAAUC,cACVC,E,2MACJC,MAAQ,CACNC,KAAM,GACNC,OAAO,EACPC,eAAgB,KAChBC,UAAW,CACT,CAAC/D,GAAG,EAAEgC,IAAI,OAAOgC,SAAS,6BAC1B,CAAChE,GAAG,EAAEgC,IAAI,WAAWgC,SAAS,4BAC9B,CAAChE,GAAG,EAAEgC,IAAI,iBAAiBgC,SAAS,sBAEtCC,SAAS,M,EAMXC,SAAW,SAAAC,GACTC,MAAM,+DAAD,OAAcD,EAAd,WACL,EAAKE,MAAMC,YACXd,EAAQe,KAAK,KACbC,OAAOC,SAASC,QAAO,I,EAMzBC,iBAAmB,WACjBnB,EAAQe,KAAK,UACbC,OAAOC,SAASC,QAAO,GACvB,EAAKL,MAAMO,mBAAkB,I,EAE/BC,OAAS,WACP,EAAKC,SAAS,CACZjB,OAAQ,EAAKF,MAAME,S,EAGvBkB,mBAAqB,SAAAC,GAEf,EAAKX,MAAMY,aAAeD,EAAUC,YAAY,EAAKJ,SAGrD,EAAKR,MAAMa,+BAAiCF,EAAUE,8BAA8B,EAAKL,U,wEAGrF,IAKJM,EALG,OACDC,EAAc5C,EAAQ,IAGxB6C,EAAW,KAEf,IAAKF,KAAKG,KAAKjB,MAAMnB,KACnBmC,GAAYC,KAAKjB,MAAMnB,KAAKiC,GAAGI,IAGjC,IAAIrC,EAAO,KAETA,EADEoC,KAAKjB,MAAMnB,KAAKsC,OAEd,yBAAKC,UAAWC,IAAOC,iBACrBC,QAASN,KAAKT,QACd,kBAACO,EAAD,CACIS,KAAK,gBACLJ,UAAWC,IAAOI,mBAEtB,yBAAKL,UAAWC,IAAOK,YACrB,yBAAKN,UAAWC,IAAOM,QACpBX,KAOP,yBAAKI,UAAWC,IAAOC,iBAAkBC,QAASN,KAAKT,QACrD,kBAACO,EAAD,CACIS,KAAK,gBACLJ,UAAWC,IAAOI,oBAK9B,IAAM3B,EAAamB,KAAKjB,MAAMnB,KAAK+C,OAAO,SAACC,EAAKtC,GAAN,OAAgBsC,EAAOtC,EAAKuC,MAAQvC,EAAK2B,KAAM,GAGnFa,EAAed,KAAKjB,MAAMgC,gBAA4C,GAAxD,UAAiCX,IAAOU,aAGxDhC,EAAQ,KAaZ,OAZIkB,KAAKjB,MAAMiC,iBACblC,EACE,6BACE,yBAAKqB,UAAWC,IAAOa,cACvB,kBAACnB,EAAD,CACAK,UAAWC,IAAOc,UAClBX,KAAK,iBAHL,sDAUJ,yBAAKY,MAAO,CAACC,SAAS,aACnBtC,EACH,6BAEE,kBAACuC,EAAA,EAAD,CAAOC,OAAQtB,KAAK3B,MAAME,MAAOgB,OAAQS,KAAKT,QAC5C,kBAACgC,EAAA,EAAD,2BACCvB,KAAKjB,MAAMnB,KAAKsC,OACf,6BACE,kBAACsB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,+BACE,4BACE,iCACA,4CACA,4CACA,8CAGJ,+BACGzB,KAAKjB,MAAMnB,KAAKrD,IAAI,SAACsF,EAAG6B,GAAJ,OACnB,wBAAIC,IAAKD,GACP,wBAAIE,MAAM,OAAOF,EAAQ,GACzB,4BAAK7B,EAAEU,MACP,4BAAKV,EAAEgB,OACP,4BAAKhB,EAAEI,KACP,4BACE,kBAAC4B,EAAA,EAAD,CACEV,MAAO,CAACW,gBAAgB,WACxBxB,QAAS,kBAAM,EAAKvB,MAAMgD,WAAWlC,EAAEnF,MAFzC,WAQV,kBAACsH,EAAA,EAAD,CAAOb,MAAO,CAACW,gBAAgB,UAAUG,MAAM,SAAU9B,UAAU,cAAnE,qBAEKH,KAAKjB,MAAMnB,KAAK+C,OAAO,SAACC,EAAKtC,GAAN,OAAgBsC,EAAOtC,EAAKuC,MAAQvC,EAAK2B,KAAM,GAF3E,WAMF,kBAACiC,EAAA,EAAD,KACGlC,KAAKjB,MAAMgC,gBACV,kBAACc,EAAA,EAAD,CAAQI,MAAM,UAAU3B,QAAS,kBAAM,EAAK1B,SAASC,KAArD,gBACA,kBAACgD,EAAA,EAAD,CAAQV,MAAO,CAACW,gBAAgB,WAAYxB,QAAS,kBAAM,EAAKjB,qBAAhE,kCAEF,kBAACwC,EAAA,EAAD,CAAQV,MAAO,CAACW,gBAAgB,UAAUG,MAAM,SAAU3B,QAASN,KAAKT,QAAxE,kBAIJ,6BACE,kBAACiC,EAAA,EAAD,2DAMN,yBAAKrB,UAAS,UAAKC,IAAO+B,aAAZ,mBACZ,6BACE,kBAAC,IAAD,CAAMC,GAAG,KACT,kBAACtC,EAAD,CACEK,UAAWC,IAAOiC,WAClB9B,KAAK,aAGT,4BACE,4BACE3C,GAEDoC,KAAKjB,MAAMgC,gBACR,kBAAC,IAAD,CAAMqB,GAAG,WAAU,wBAAIjC,UAAaW,GAAjB,iBACnB,kBAAC,IAAD,CAAMsB,GAAG,SAAQ,wBAAIjC,UAAaW,GAAjB,sC,GA1KZwB,aAqMNC,cAjBS,SAAAlE,GACtB,MAAO,CACLT,KAAMS,EAAMT,KAAKA,KACjBmD,gBAAsC,OAArB1C,EAAMnC,KAAKR,MAC5BiE,WAAatB,EAAMT,KAAK+B,WACxBC,6BAA8BvB,EAAMT,KAAK0B,kBACzC0B,eAAgB3C,EAAMmE,QAAQxB,iBAGP,SAAAzF,GACzB,MAAO,CACLkH,UAAW,SAAAC,GAAO,OAAInH,EAAS,CAAEF,KAAMsH,EAAgB9E,WAAY6E,aACnE1D,UAAW,kBAAMzD,EAAS,CAAEF,KAAMsH,EAAgB7E,cAClDiE,WAAY,SAAArH,GAAE,OAAIa,EAAS,CAAEF,KAAMsH,EAAgB5E,YAAarD,QAChE4E,kBAAmB,SAAAgC,GAAM,OAAI/F,EAAS,CAAEF,KAAMsH,EAAgB1E,mBAAoBqD,cAGvEiB,CAA6CnE,G,iDCzMtDwE,EAAe,CACnB,CAAEC,MAAO,MAAOC,MAAO,4BACvB,CAAED,MAAO,MAAOC,MAAO,gBACvB,CAAED,MAAO,QAASC,MAAO,gBACzB,CAAED,MAAO,QAASC,MAAO,sBACzB,CAAED,MAAO,OAAQC,MAAO,gBACxB,CAAED,MAAO,SAAUC,MAAO,gBAC1B,CAAED,MAAO,QAASC,MAAO,gBACzB,CAAED,MAAO,OAAQC,MAAO,iBAEpBC,E,2MACJ1E,MAAQ,CACN2E,OAAOA,EACPC,WAAYC,SAASC,qBAAqB,SAC1CC,cAAc,KACdV,QAASW,EACTC,cAAe,GACfC,gBAAe,G,EAKjBC,aAAe,SAAAF,GACb,EAAK9D,SAAS,CAAE8D,mB,EAMlBG,YAAc,WAMZ,IAAK,IAAI5D,KAJT,EAAKL,SAAS,iBAAO,CAAEkD,QAASW,KAChC,EAAK7D,SAAS,iBAAO,CAAE4D,cAAe,QAGxB,EAAK/E,MAAM4E,WAAW,CAClBS,QAAQ,EAAKrF,MAAM4E,WAAWpD,GAAG8D,WAE/C,EAAKtF,MAAM4E,WAAWpD,GAAG8D,SAAU,K,EASzCC,uBAAyB,SAAA9I,GACvB,IAAM+I,EAAgB/I,EAAEgJ,OAAOC,aAAa,YACtCC,EAAYX,EAAYY,OAAO,SAAApE,GAAC,OAAEA,EAAEoC,QAAU4B,IACpD,EAAKrE,SAAS,iBAAO,CAAEkD,QAASsB,M,EAKlCE,kBAAoB,kBAAM,EAAK1E,SAAS,CAAE8D,cAAe,CAAET,MAAO,MAAOC,MAAO,+B,wEAEtE,IAAD,SACkC9C,KAAK3B,MAAtCiF,EADD,EACCA,cAAcC,EADf,EACeA,eAEjBH,EAAiBpD,KAAK3B,MAAtB+E,cACL,IAAK,IAAIvD,KAAKG,KAAK3B,MAAM4E,WAAW,CAClBS,QAAQ1D,KAAK3B,MAAM4E,WAAWpD,GAAG8D,WAE/CP,EACE,yBAAKjC,MAAO,CAACgD,OAAO,UAAUlC,MAAM,UAAUmC,aAAc,QAAS9D,QAASN,KAAKyD,aAAnF,+BAUN,IAAMY,EAAsBrE,KAAK3B,MAAM2E,OAAOzI,IAAI,SAAC+J,EAAEzE,GAAH,OAClD,2BAAO8B,IAAK9B,EAAGM,UAAWoE,IAAIC,QAC1B,2BAAOrD,MAAO,CAACsD,QAAQ,QAASpJ,KAAK,QAAQqJ,WAAUJ,EAAErC,MAAO1B,KAAK,QAAQD,QAAS,EAAKsD,uBAAuBe,KAAK,KACvH,0BAAMxE,UAAWoE,IAAItC,OAAO,yBAAK9B,UAAWoE,IAAIK,MAAOzD,MAAO,CAAC0D,WAAWP,EAAEnD,aAK1EuB,EAAY1C,KAAK3B,MAAjBqE,QAE+B,OAAlC1C,KAAK3B,MAAMiF,cAAcT,QAAgBH,EAAUW,EAAYY,OAAO,SAAApE,GAAC,OAAEA,EAAEoC,QAAU,EAAK5D,MAAMiF,cAAcT,SAEjH,IAAMiC,EAAcpC,EAAQnI,IAAI,SAAAmI,GAAO,OACrC,yBAAKf,IAAKe,EAAQhI,GAAIyF,UAAWoE,IAAIQ,aACnC,kBAAC,IAAD,CACE3C,GAAI,iBAAmBM,EAAQhI,IAC/B,yBAAKsK,IAAK9H,MAAQ,YAAsBwF,EAAQuC,IAA/B,SAA2CC,IAAI,mBAChE,yBAAK/E,UAAWoE,IAAIY,oBAClB,6BAAMzC,EAAQnC,MACd,6BAAMmC,EAAQ0C,MACd,oCAAU1C,EAAQ7B,YAM1B,OACE,yBAAKV,UAAWoE,IAAIc,UAChB,0BAAMlF,UAAU,iBACd,2BAAOA,UAAWoE,IAAIe,WAAYnE,MAAO,CAACoE,aAAa,SACrD,yBAAKpF,UAAWoE,IAAIiB,UAAWrE,MAAO,CAACiD,aAAa,SAClD,yDAEF,6BACGhB,EACD,wBAAIjD,UAAWoE,IAAIkB,iBAChBpB,KAIP,2BAAOlE,UAAWoE,IAAImB,YACtB,4BAAQvF,UAAWoE,IAAIoB,QAAvB,4BACA,6BAASxF,UAAWoE,IAAIqB,cACtB,kBAAC,IAAD,CACIC,aAAcjD,EAAa,GAC3BC,MAAOS,EACPwC,SAAU9F,KAAKwD,aACfuC,QAASnD,EACToD,MAAM,MACNC,aAAgB1C,EAChB2C,YAAelG,KAAKmG,IACpBhF,MAAO,CAAC6E,MAAM,YAGpB,6CAAStD,EAAQxC,OAAjB,uBACA,6BAEE,yBAAKC,UAAWoE,IAAIO,aACjBA,U,GA3HExC,aAwIJC,cALS,SAAAlE,GACtB,MAAO,CACLT,KAAMS,EAAMT,KAAKA,OAGmB,KAAzB2E,CAA+BQ,G,+GClJ/BqD,GAJC,kBACZ,yBAAKjG,UAAWkG,KAAQC,QAAxB,e,oBCmDWC,GAtDD,SAAExH,GACZ,IAAIyH,EAAe,KACbC,EAAe,CAACJ,KAAQK,cAM9B,OAJI3H,EAAM4H,SAAW5H,EAAM6H,gBAAkB7H,EAAM8H,SAC/CJ,EAAaxH,KAAKoH,KAAQS,SAGrB/H,EAAMgI,aACX,IAAO,QACHP,EAAe,yCACXrG,UAAWsG,EAAaO,KAAK,MACzBjI,EAAMkI,cAFC,CAGXpE,MAAO9D,EAAM8D,MACbiD,SAAU/G,EAAMmI,WACpB,MACJ,IAAO,WACHV,EAAe,4CACXrG,UAAWsG,EAAaO,KAAK,MACzBjI,EAAMkI,cAFC,CAGXpE,MAAO9D,EAAM8D,MACbiD,SAAU/G,EAAMmI,WACpB,MACJ,IAAO,SACHV,EACI,4BACIrG,UAAWsG,EAAaO,KAAK,KAC7BnE,MAAO9D,EAAM8D,MACbiD,SAAU/G,EAAMmI,SACfnI,EAAMkI,cAAclB,QAAQxL,IAAI,SAAA4M,GAAM,OACnC,4BAAQxF,IAAKwF,EAAOtE,MAAOA,MAAOsE,EAAOtE,OACpCsE,EAAOC,iBAKxB,MACJ,QACIZ,EAAe,yCACXrG,UAAWsG,EAAaO,KAAK,MACzBjI,EAAMkI,cAFC,CAGXpE,MAAO9D,EAAM8D,MACbiD,SAAU/G,EAAMmI,WAG5B,OACI,yBAAK/G,UAAWkG,KAAQgB,OACpB,2BAAOlH,UAAWkG,KAAQiB,OAAQvI,EAAM+D,OACvC0D,I,oBCvCEe,GAPA,SAACxI,GAAD,OACX,4BACIyI,SAAUzI,EAAMyI,SAChBrH,UAAW,CAACkG,KAAQxE,OAAQwE,KAAQtH,EAAM0I,UAAUT,KAAK,KACzD1G,QAASvB,EAAM2I,SAAU3I,EAAM4I,W,2jBCKjCC,G,2MACFvJ,MAAQ,CACJwJ,mBACAC,SAAU,CACN3L,MAAO,CACH4K,YAAa,QACbE,cAAe,CACX5L,KAAM,QACN6K,YAAa,uCAEjBrD,MAAO,GACPkF,WAAY,CACRC,UAAU,EACVC,SAAS,GAEbC,OAAO,EACPrB,SAAS,GAEbzK,SAAU,CACN2K,YAAa,QACbE,cAAe,CACX5L,KAAM,WACN6K,YAAa,8CAEjBrD,MAAO,GACPkF,WAAY,CACRC,UAAU,EACVG,UAAW,GAEfD,OAAO,EACPrB,SAAS,IAGjBxK,UAAU,G,EAsCd+L,gBAAkB,SAAAC,GAGd,IAFA,IAAIC,EAAcpF,SAASqF,uBAAuB,YAEzC1I,EAAI,EAAGA,EAAIyI,EAAYpI,OAAQL,IACpCyI,EAAYzI,GAAG2I,UAAY,GAEZ,aAAhBH,IAA4BC,EAAY,GAAGE,UAAU,gD,EAI5DC,oBAAsB,SAACC,EAAOL,GAC1B,IAAMM,EAAe,MACd,EAAKtK,MAAMyJ,SADG,eAEhBO,EAFgB,MAGV,EAAKhK,MAAMyJ,SAASO,GAHV,CAIbxF,MAAO6F,EAAM5E,OAAOjB,MACpBqF,MAAO,EAAKU,cAAcF,EAAM5E,OAAOjB,MAAO,EAAKxE,MAAMyJ,SAASO,GAAaN,YAC/ElB,SAAS,MAGjB,EAAKrH,SAAS,CAAEsI,SAAUa,K,EAM9BE,iBAAmB,WACf,IAAI7C,EAAQ9G,OAAO4J,OAAO9C,MACtB+C,EAAa7F,SAASqF,uBAAuB,cACjD,GAAGvC,GAAS,IACR,IAAK,IAAInG,EAAI,EAAGA,EAAIkJ,EAAW7I,OAAQL,IACnCkJ,EAAWlJ,GAAGsB,MAAMsD,QAAU,Q,EAM1CuE,cAAgB,SAAAN,GACZA,EAAMO,iBACN,EAAKlK,MAAMmK,OAAO,EAAK7K,MAAMyJ,SAAS3L,MAAM0G,MAAO,EAAKxE,MAAMyJ,SAAS1L,SAASyG,MAAO,EAAKxE,MAAMhC,W,EAMtG8M,sBAAwB,WACpB,EAAK3J,SAAS,SAAA4J,GACV,MAAO,CAAE/M,UAAW+M,EAAU/M,a,EAItC6H,kBAAoB,WAEhB,EAAKnF,MAAMsK,sBAGX,EAAKC,iBAGL,EAAKT,oB,EAMTS,eAAiB,WACb,IAAIP,EAAa7F,SAASqF,uBAAuB,cACjDQ,EAAW,GAAG/D,IAAIuE,IAClBR,EAAW,GAAG/D,IAAI5I,M,EAQtBqD,mBAAqB,SAACC,EAAW0J,GAEzB,EAAK/K,MAAMhC,UAAY+M,EAAU/M,WAEjC,EAAK0C,MAAMsK,sBAEX,EAAKjB,kBAGL,EAAKS,oBAIL,EAAK9J,MAAMpB,OAAS+B,EAAU/B,QAC9B,EAAK2L,iBACL,EAAKT,qB,6EA9HChG,EAAO2G,GACjB,IAAIC,GAAU,EACd,IAAKD,EACD,OAAO,EAeX,GAZIA,EAAMxB,WACNyB,EAA2B,KAAjB5G,EAAM6G,QAAiBD,GAGjCD,EAAMrB,YACNsB,EAAU5G,EAAM3C,QAAUsJ,EAAMrB,WAAasB,GAG7CD,EAAMG,YACNF,EAAU5G,EAAM3C,QAAUsJ,EAAMG,WAAaF,GAG7CD,EAAMvB,QAAS,CAEfwB,EADgB,0IACEG,KAAK/G,IAAU4G,EAGrC,GAAID,EAAMK,UAAW,CAEjBJ,EADgB,QACEG,KAAK/G,IAAU4G,EAGrC,OAAOA,I,+BAsGD,IAKN9H,EALK,OACH7B,EAAc5C,EAAQ,IAGtB4M,EAAoB,GAE1B,IAAKnI,KAAO3B,KAAK3B,MAAMyJ,SACnBgC,EAAkB7K,KAAK,CACnBvE,GAAIiH,EACJoI,OAAQ/J,KAAK3B,MAAMyJ,SAASnG,KAGpC,IA8BIqI,EAoBAC,EAUAtL,EA5DAuL,EAAOJ,EAAkBvP,IAAI,SAAAsF,GAAC,OAC9B,yBAAKsB,MAAO,CAACC,SAAS,YAClBd,QAAS,kBAAM,EAAK8H,gBAAgBvI,EAAEnF,KACtCyP,QAAS,kBAAM,EAAK/B,gBAAgBvI,EAAEnF,MACtC,kBAAC2M,GAAD,CACA1F,IAAK9B,EAAEnF,GACPqM,YAAalH,EAAEkK,OAAOhD,YACtBE,cAAepH,EAAEkK,OAAO9C,cACxBpE,MAAOhD,EAAEkK,OAAOlH,MAChB8D,SAAU9G,EAAEkK,OAAO7B,MACnBtB,eAAgB/G,EAAEkK,OAAOhC,WACzBlB,QAAShH,EAAEkK,OAAOlD,QAClBK,QAAS,SAACwB,GAAD,OAAW,EAAKD,oBAAoBC,EAAO7I,EAAEnF,OACtD,yBAAK0P,MAAM,WAAWjJ,MAAO,CAACkJ,OAAQ,mBAClCpI,MAAO,QACPqI,WAAY,MACZC,SAAU,UACd,yBAAKH,MAAM,aACPjJ,MAAO,CAACC,SAAU,WAClBoJ,IAAK,OACLC,KAAM,QACNzE,MAAO,aAWnB,GALIhG,KAAKjB,MAAM2L,UAASR,EAAO,kBAACS,GAAD,YAKPC,GAApB5K,KAAKjB,MAAMpB,MAAoB,CAC/B,IAEIkC,EAFAgL,GAAQ,EAGZ,IAAKhL,KAAKgI,GACN,GAAIA,GAAgBhI,GAAGiL,KAAO9K,KAAKjB,MAAMpB,MAAM6E,QAAS,CACpDqI,GAAQ,EACR,MAGRb,EAAea,EAEThD,GAAgBkD,KAAK,SAAAlL,GAAC,OAAIA,EAAEiL,KAAO,EAAK/L,MAAMpB,MAAM6E,UAASwI,GAE7D,sFAuBN,OAlBDhB,IAAcC,EACb,yBAAK9I,MAAO,CAAEC,SAAU,YACpBjB,UAAS,UAAKoE,KAAI0G,SAAT,YAAqB1G,KAAI2G,cAClC,kBAACpL,EAAD,CAAaS,KAAK,aACjByJ,IAOLhK,KAAKjB,MAAMgC,iBAAmBf,KAAKjB,MAAMO,oBACzCX,EAAY,kBAAC,IAAD,CAAUyD,GAAI,iBAAmBpC,KAAKjB,MAAMoM,gBAAgBzQ,MAGxEsF,KAAKjB,MAAMgC,kBAAoBf,KAAKjB,MAAMO,oBAC1CX,EAAY,kBAAC,IAAD,CAAUyD,GAAG,OAGrB,yBAAKjC,UAAWoE,KAAI6G,MACfzM,EACD,+BACI,yBAAKqG,IAAKqG,QAEd,+BACI,6BACI,yBAAKlL,UAAWoE,KAAI+G,mBAChB,0BAAMC,SAAUvL,KAAKgJ,eACrB,4BAAQ7H,MAAO,CAAEqK,UAAW,WAAaxL,KAAK3B,MAAMhC,SAAW,eAAO,gBAEjE4N,EACAC,EACD,kBAAC,GAAD,KACC,yBAAK/I,MAAO,CACTc,MAAO,QACPsI,SAAU,OACVkB,YAAa,OACbpB,OAAQ,SAJX,kBAQL,yBAAKlJ,MAAO,CAACc,MAAO,WAChBuJ,UAAW,SACXjB,SAAU,OACVmB,UAAW,OACXC,eAAgB,YAChBxH,OAAQ,WAAY7D,QAASN,KAAKmJ,uBALtC,eAKgEnJ,KAAK3B,MAAMhC,SAAW,eAAO,wB,GAnRtGiG,aA2SJC,eAhBS,SAAClE,GACrB,MAAO,CACHV,MAAOU,EAAMnC,KAAKyB,MAClBoD,gBAAsC,OAArB1C,EAAMnC,KAAKR,MAC5BgP,QAASrM,EAAMnC,KAAKwO,QACpBpL,kBAAmBjB,EAAMT,KAAK0B,kBAC9B6L,gBAAiB9M,EAAMqE,QAAQkJ,gBAGZ,SAAArQ,GACvB,MAAO,CACH2N,OAAQ,SAAC/M,EAAOC,EAAUC,GAAlB,OAA+Bd,EAASsQ,EAAa1P,EAAOC,EAAUC,KAC9EgN,oBAAqB,kBAAM9N,EPjQzB,CACFF,KD/CuB,uBQmThBkH,CAA6CqF,IClTtDkE,G,4LAEE9L,KAAKjB,MAAMgN,a,+BAIX,OAAO,kBAAC,IAAD,CAAU3J,GAAG,U,GANPE,aAgBNC,eAAQ,KANI,SAAAhH,GACvB,MAAO,CACHwQ,SAAU,kBAAMxQ,EAASsQ,QAIlBtJ,CAAkCuJ,IChBlCE,GALK,SAACjN,GAAD,OACjB,4CCFG2D,GAGW,e,iPCKjB,IAAMqD,GAAU,CACd,CAAElD,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,IAAKC,MAAO,MAEjBmJ,G,2MACJ5N,MAAQ,CACN6N,aAAc,iCACdxR,GAAI,IACJ8D,eAAgB,M,EAElBgF,aAAe,SAAAhF,GACb,EAAKgB,SAAS,CAAEhB,oB,EAMlB2N,cAAgB,SAAAD,GAEd,GAAoB,mCAAjBA,EAAyB,CAAC,IACjBN,EAAkB,EAAK7M,MAAvB6M,cAC+B,MAAnC,EAAKvN,MAAMG,eAAeqE,OAAe,EAAKrD,SAAS,CAAEhB,eAAgB,IAC7E,EAAKO,MAAM0D,U,uVAAX,IACKmJ,EADL,CAEE3L,IAAK5C,SAAS,EAAKgB,MAAMG,eAAeqE,UAG1C,EAAK9D,MAAMD,QACX,EAAKU,SAAS,iBAAO,CAAG0M,aAAc,mCAGxC,EAAKnN,MAAMqN,c,mFAIbpM,KAAKR,SAAS,CAAEhB,eAAgB,CAAEqE,MAAO,EAAGC,MAAO,OACnD,IAAIpI,EAAK2C,SAAS2C,KAAKjB,MAAMsN,MAAMC,OAAO5R,IAC1CsF,KAAKjB,MAAMwN,YAAY7R,GAGnBsF,KAAKjB,MAAMyN,yBACbxM,KAAKjB,MAAMqN,aAGXpM,KAAKjB,MAAMO,mBAAkB,M,+BAIvB,IAIJmN,EAJG,OACD3M,EAAc5C,EAAQ,IACpBsB,EAAmBwB,KAAK3B,MAAxBG,eAILtD,OAAOD,KAAK+E,KAAKjB,MAAM6M,eAAe1L,SACvCuM,EACE,yBAAKvH,IAAI,WAAWF,IAAK9H,MAAQ,YAAsB8C,KAAKjB,MAAM6M,cAAc3G,IAAhD,YAKpC,IAAMyH,EAA0C,mCAA5B1M,KAAK3B,MAAM6N,aAAX,UACf3H,KAAIoI,QADW,UAEfpI,KAAIqI,SACT,OACE,yBAAKzM,UAAWoE,KAAIsI,iBAClB,yBAAK1M,UAAU,iBACb,yBAAKA,UAAWoE,KAAIuI,aAClB,6BACGL,GAEH,yBAAMtM,UAAWoE,KAAIwI,cACnB,yBAAK5M,UAAWoE,KAAIyI,WAClB,gCAAShN,KAAKjB,MAAM6M,cAAcrL,MAChC,gCAASP,KAAKjB,MAAM6M,cAAcxG,MACpC,iCAAOpF,KAAKjB,MAAM6M,cAAc/K,OAChC,6BACE,yBAAKV,UAAWoE,KAAI0I,aAApB,iBACI,kBAAC,IAAD,CACFpH,aAAcE,GAAQ,GACtBlD,MAAOrE,EACPsH,SAAU9F,KAAKwD,aACfuC,QAASA,GACTC,MAAM,MACN7E,MAAO,CAAC6E,MAAM,YAGlB,yBACE7F,UAAauM,EACbpM,QAAS,kBAAK,EAAK6L,cAAc,EAAK9N,MAAM6N,gBAC5C,kBAACpM,EAAD,CACEqB,MAAO,CAACoJ,SAAS,OAAOtI,MAAM,SAC9B1B,KAAK,kBAEP,0BAAsBY,MAAO,CAAC+L,WAAW,MAAMjL,MAAM,UACnEjC,KAAK3B,MAAM6N,eAEC,kaAKA,6BACA,sGAEA,6BAFA,+GAIE,6BAJF,mGAOE,6BAPF,yFASE,6BATF,2EAWE,6BAXF,kBAaE,6BAbF,6FAeE,6BAfF,mDAiBE,6BAjBF,uLAmBE,6BAnBF,+JAqBE,6BArBF,IAuBE,6BAvBF,yDAyBE,6BAzBF,yDA2BE,6BA3BF,IA6BE,6BA7BF,yDA+BE,6BA/BF,e,GAnGU5J,aCsBX6K,GA/BA,CACb,CACEC,KAAM,IACNC,UAAWtK,EACXuK,OAAO,EACPC,eAAgB,QAElB,CACEH,KAAK,QACLC,UAAWzF,GACX0F,OAAM,GAER,CACEF,KAAK,UACLC,UAAWvB,GACXwB,OAAM,GAER,CACEF,KAAK,gBACLC,UAAWrB,GACXsB,OAAM,GAER,CACEF,KAAK,oBACLC,UD+IW9K,YAjBS,SAAAlE,GACtB,MAAO,CACLuN,cAAevN,EAAMqE,QAAQkJ,cAC7BhO,KAAMS,EAAMT,KAAKA,KACjB4O,uBAAwBnO,EAAMT,KAAK0B,oBAIZ,SAAA/D,GACzB,MAAO,CACLkH,UAAW,SAAAC,GAAO,OAAInH,EAAS,CAAEF,KAAMsH,EAAgB9E,WAAY6E,aACnE6J,YAAa,SAAA7R,GAAE,OAAIa,EAAS,CAAEF,KAAMmS,GAAiC9S,QACrE0R,WAAY,kBAAM7Q,EAAS,CAAEF,KAAMsH,EAAgB3E,eACnDsB,kBAAmB,SAAAgC,GAAM,OAAI/F,EAAS,CAAEF,KAAMsH,EAAgB1E,mBAAoBqD,YAClFxC,MAAO,kBAAMvD,EbvKN,SAAAA,GACHA,EAASH,KACTG,EAASD,UawKFiH,CAA6C0J,KC7I1D,CACEoB,UCHa,WACf,MAAO,qBCnBHI,G,4LAGFzN,KAAKjB,MAAM2O,mB,+BAGX,OACE,6BACC,kBAACC,EAAD,MACA,yBAAKxN,UAAWgB,IAAMyM,QACpBC,YAAaV,U,GAVJ7K,aAqBHC,eAAQ,KALI,SAAAhH,GACzB,MAAO,CACLmS,eAAgB,kBAAMnS,EdkEf,SAAAA,GACH,IAAMG,EAAQI,aAAagS,QAAQ,SAEnC,GAAIpS,EAGC,CACD,IAAMqS,EAAiB,IAAIC,KAAKlS,aAAagS,QAAQ,mBAErD,GAAIC,GAAkB,IAAIC,KACtBzS,EAASM,SAER,CACD,IAAMF,EAAS,IAAIqS,KAAKlS,aAAagS,QAAQ,WAC7CvS,EAASE,EAAYC,EAAMC,IAE3BJ,EAASS,GAAkB+R,EAAeE,WAAY,IAAID,MAAOC,WAAa,YAZlF1S,EAASM,UcnEN0G,CAAkCkL,ICrB7B/J,QACW,cAA7BxE,OAAOC,SAAS+O,UAEe,UAA7BhP,OAAOC,SAAS+O,UAEhBhP,OAAOC,SAAS+O,SAAS7B,MACvB,2D,mPClBC,IAAM8B,GAAe,SAACC,EAAWC,GACpC,O,uVAAO,IACAD,EADP,GAEOC,ICALC,GAAe,CACjBhR,UAAW,KACX5B,MAAO,KACPC,OAAQ,KACRgC,MAAO,KACP+M,SAAS,EACT6D,iBAAkB,KAOhBC,GAAY,SAAEnQ,EAAOoQ,GACvB,OAAON,GAAc9P,EAAO,CAAEV,MAAO,KAAM+M,SAAS,KAQlDjP,GAAc,SAAC4C,EAAOoQ,GACxB,OAAON,GAAc9P,EAAO,CACxB3C,MAAO+S,EAAO7S,QACdD,OAAQ8S,EAAO9S,OACfgC,MAAO,KACP+M,SAAS,KAGXgE,GAAW,SAACrQ,EAAOoQ,GAErB,OADAnS,QAAQC,IAAI8B,EAAM,IAAIoQ,GACfN,GAAc9P,EAAO,CACxBV,MAAO8Q,EAAO9Q,MACd+M,SAAS,KAGXiE,GAAa,SAACtQ,EAAOoQ,GACvB,OAAON,GAAc9P,EAAO,CACxB3C,MAAM,KACNC,OAAQ,QAGViT,GAAoB,SAACvQ,EAAOoQ,GAC9B,OAAON,GAAc9P,EAAO,CACxBV,MAAO,QAkBAkR,GAdC,WAAqC,IAAnCxQ,EAAkC,uDAA1BiQ,GAAcG,EAAY,uCAChD,OAASA,EAAOpT,MACZ,IlBtDkB,akBsDW,OAAOmT,GAAUnQ,GAC9C,IlBtDoB,ekBsDW,OAAO5C,GAAY4C,EAAOoQ,GACzD,IlBtDiB,YkBsDW,OAAOC,GAASrQ,EAAOoQ,GACnD,IlBtDmB,ckBsDW,OAAOE,GAAWtQ,GAEhD,IlBtDuB,kBkBsDW,OAAOuQ,GAAkBvQ,GAE3D,QACI,OAAOA,IC3DbiQ,GAAe,CACjBtN,gBAAgB,GAEd5F,GAAmB,SAAEiD,EAAOoQ,GAC9B,OAAON,GAAc9P,EACjB,CAAE2C,gBAAiB3C,EAAM2C,kBAWlB8N,GARQ,WAAqC,IAAnCzQ,EAAkC,uDAA1BiQ,GAAcG,EAAY,uCACvD,OAASA,EAAOpT,MACZ,InBTyB,oBmBSW,OAAOD,GAAiBiD,GAC5D,QACI,OAAOA,ICfb0Q,GACK,WADLA,GAEQ,c,ujBCDd,IAAMT,GAAe,CAClBU,QAAQ,IAmBIH,GAjBC,WAA+B,IAA9BxQ,EAA6B,uDAAvBiQ,GAAaG,EAAU,uCAC3C,OAAOA,EAAOpT,MACT,KAAK4T,GACL,aACO5Q,EADP,CAEI2Q,QAAS3Q,EAAM2Q,QAAQE,OAAO,CAACxU,GAAI,IAAIsT,KAAOmB,MAAMV,EAAOU,MAAMC,YAAYX,EAAOW,gBAEzF,KAAKH,GACL,aACO5Q,EADP,CAEI2Q,QAAS3Q,EAAM2Q,QAAQ/K,OAAO,SAAAoL,GAAM,OAAGA,EAAO3U,KAAK+T,EAAO/T,OAKlE,OAAO2D,G,gkBClBV,IAAIiQ,GAAe,CACf1Q,KAAM,GACN+B,YAAY,EACZL,mBAAmB,GA4DR1B,GAzDF,WAAmC,IAAlCS,EAAiC,uDAAzBiQ,GAAcG,EAAW,uCAC3C,OAAQA,EAAOpT,MAIX,KAAK4T,EAAYpR,WACb,IAAIgN,EAAQxM,EAAMT,KAAKmN,KAAK,SAAAlL,GAAC,OAAIA,EAAEnF,KAAO+T,EAAO/L,QAAQhI,KAEzD,OACW,MACA2D,EAFRwM,EACC,CAGIjN,KAAMS,EAAMT,KAAKrD,IAAI,SAAAsF,GAAC,OAAIA,EAAEnF,KAAOmQ,EAAMnQ,GAAf,MAAwBmF,EAAxB,CAA2BI,IAAKJ,EAAEI,IAAMwO,EAAO/L,QAAQzC,MAAQJ,KAI5F,CAEGjC,KAAK,GAAD,oBAAMS,EAAMT,MAAZ,CAAiB6Q,EAAO/L,YAIxC,KAAKuM,EAAYjR,YACjB,OAAO,MACAK,EADP,CAEIsB,YAAatB,EAAMsB,aAGvB,KAAKsP,EAAYnR,WACjB,OAAO,MACAO,EADP,CAEIT,KAAM,KAEV,KAAKqR,EAAYhR,mBACjB,OAAO,MACAI,EADP,CAEIiB,kBAAmBmP,EAAOnN,SAG9B,KAAK2N,EAAYK,kBAEjB,OADAhT,QAAQC,IAAI,4BACL,MACA8B,EADP,CAEI2C,gBAAiB3C,EAAM2C,iBAG3B,KAAKiO,EAAYlR,YACb,OAAO,MACAM,EADP,CAEIT,KAAMS,EAAMT,KAAKqG,OAAO,SAAApE,GAAC,OAAIA,EAAEnF,KAAO+T,EAAO/T,OAErD,QACI,OAAO2D,I,ujBCzDnB,IAAIiQ,GAAe,CACfU,QAAS3L,EACTuI,cAAc,IAgBHlJ,GAdC,WAAmC,IAAlCrE,EAAiC,uDAAzBiQ,GAAcG,EAAW,uCAC9C,OAAQA,EAAOpT,MACX,KAAK4T,GAED,OADA3S,QAAQC,IAAI,kCAAkCkS,GACvC,MACApQ,EADP,CAEIuN,cAAevN,EAAM2Q,QAAQjE,KAAK,SAAAsE,GAAM,OAAIA,EAAO3U,KAAO+T,EAAO/T,OAEzE,QACI,OAAO2D,ICCbkR,GAAcC,aAAgB,CAChCtT,KAAMuT,GACNC,QAAQC,GACRjN,QAAQA,GACR9E,KAAKA,GACL4E,QAAQsM,KAINc,GAAmB1Q,OAAO2Q,sCAAwCC,KAGlEC,GC5BmB,WACrB,IACE,IAAMC,EAAkBlU,aAAagS,QAAQ,SAC7C,GAAwB,OAApBkC,EACF,OAEF,OAAOC,KAAKC,MAAMF,GAClB,MAAOtS,GACP,QDoBiByS,GAGjBC,GAAQC,aACVd,GACAQ,GACAH,GAAiBU,aAAgBC,QAMrCH,GAAMI,UAAU,YC7BW,SAACnS,GACxB,IACE,IAAM2R,EAAkBC,KAAKQ,UAAUpS,GACvCvC,aAAaiB,QAAQ,QAASiT,GAC9B,WD0BFU,CAAU,CACR9S,KAAMwS,GAAMO,WAAW/S,KACvB8E,QAAS0N,GAAMO,WAAWjO,YAGhCkO,IAASC,OAEL,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUT,MAAOA,IACb,kBAAC,GAAD,CAAKjQ,UAAWC,SAIhC8C,SAAS4N,eAAe,SR0ElB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMpU,KAAK,SAAAqU,GACjCA,EAAaC,iB","file":"static/js/main.f01a6e64.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrap\":\"home_pageWrap__38CRN\",\"homeAside1\":\"home_homeAside1__109WI\",\"homeAside2\":\"home_homeAside2__37YRK\",\"titleWrap\":\"home_titleWrap__nclSn\",\"homeColorFilter\":\"home_homeColorFilter__1bacx\",\"productList\":\"home_productList__1mDvp\",\"productWrap\":\"home_productWrap__36nEy\",\"productDescription\":\"home_productDescription__3tjM2\",\"mobileFilter\":\"home_mobileFilter__3W_ke\",\"select\":\"home_select__2FVSB\",\"color\":\"home_color__2gfe2\",\"fuck1\":\"home_fuck1__1R7r2\",\"fuck2\":\"home_fuck2__1KUq6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navContainer\":\"Nav_navContainer__1Qjim\",\"shieldIcon\":\"Nav_shieldIcon__3McU6\",\"shoppingcartWrap\":\"Nav_shoppingcartWrap__2j11M\",\"shoppingcartIcon\":\"Nav_shoppingcartIcon__32I9K\",\"numberWrap\":\"Nav_numberWrap__3Wg11\",\"number\":\"Nav_number__2sVOC\",\"whiteBorder\":\"Nav_whiteBorder__2ltlx\",\"popupMessage\":\"Nav_popupMessage__1cur_\",\"checkIcon\":\"Nav_checkIcon__1vGl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productPageWrap\":\"productPage_productPageWrap__1AFNS\",\"productFlex\":\"productPage_productFlex__3f4pC\",\"rightSection\":\"productPage_rightSection__30Rl3\",\"container\":\"productPage_container__1ZotN\",\"numberTitle\":\"productPage_numberTitle__25i6j\",\"orange\":\"productPage_orange__237vx\",\"skyblue\":\"productPage_skyblue__37At-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"generalExtraLarge\":\"Auth_generalExtraLarge__1SawV\",\"generalSubheader\":\"Auth_generalSubheader__5hMO8\",\"generalText\":\"Auth_generalText__1Sxt4\",\"wrap\":\"Auth_wrap__3ktI5\",\"bullhorn\":\"Auth_bullhorn__1xPax\",\"input\":\"Auth_input__2QP4J\",\"turnRed\":\"Auth_turnRed__3KEri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__K0dOA\",\"Label\":\"Input_Label__2mn51\",\"InputElement\":\"Input_InputElement__3I2qY\",\"Invalid\":\"Input_Invalid__3omuc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3x01s\",\"Success\":\"Button_Success__2aaRi\",\"Danger\":\"Button_Danger__2tUXd\"};","var map = {\n\t\"./1.jpg\": 113,\n\t\"./10.jpg\": 114,\n\t\"./11.jpg\": 115,\n\t\"./12.jpg\": 116,\n\t\"./13.jpg\": 117,\n\t\"./14.jpg\": 118,\n\t\"./2.jpg\": 119,\n\t\"./3.jpg\": 120,\n\t\"./4.jpg\": 121,\n\t\"./5.jpg\": 122,\n\t\"./6.jpg\": 123,\n\t\"./7.jpg\": 124,\n\t\"./8.jpg\": 125,\n\t\"./9.jpg\": 126\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 61;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App-logo\":\"App_App-logo__GVYew\",\"App-logo-spin\":\"App_App-logo-spin__3H6IF\",\"App-header\":\"App_App-header__3e1nc\",\"App-link\":\"App_App-link__38ib_\",\"buttom\":\"App_buttom__1WyY5\"};","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACSCAYAAABBufiwAAAACXBIWXMAAC4jAAAuIwF4pT92AAAE10lEQVR4nO3d3VHjVhyG8XczuYcOIBWEVBAVcGZCBzgVhA5iOtgOYioIzPzv13RgOoAOoAJyobO5AOwje199+Oj5XWJJ1gzPWN86X97e3gQ4/DT2CqAexAQbYoINMcGGmGBDTLAhJtgQE2x+HnsFpioiLiSdSmreffQiaSPpJaW0GXq9puwLZ8BbOZ5LtfH8vsesD5LuJN2llJ78a3Y8Zh9TRCwkXUv61bC4B0mrlNLKsKyjM9uYckRLSWc9LP5Z0iKltO5h2ZM1u5gi4lzSSvttyg51rzaqlwG+a3SzOprLv0YbDROSJP0h6SkimoG+b1SziSkilpL+kXQy8FefSPqWQ67aLDZzEbGSdDX2ekj6s+ad8+pjyr9Ifx8w66vaTeL63d9PJV3o8E1ltUFVHVNEXEr6d8/ZbtWeM7rruPyF2n2jffxW4wnPamPKR20bdd9HupW0POTE4wFHiM+SLmo7yqv5cspK3UJ6VXv4Xvwl2iYH2ETEtdpzV6XvPcvTXR/6nVNU5S9TPhT/1mHSR7Uh2TY5+bLMWt1C/qWmSzC1nhpYdZjmVVLj3nfJy2vy8kuWzu8eW3Ux5V+lLpdImr72WXJQiw6TXuX9rSpUF5O6/RNv+j6ayvtgtx0mrWa/qcaYSicnn1NKyyFWRG0opc3d5RArMoSqYsrnfUqWfa/Hd3kzuipMdlbLpq6qmNSemS45+BTAgb52mKbpeyWGUFtMTeHz+6FPFOZD/+fCZOf9r0n/aovptPD5WJcw1oXPmwHWoXe1xVS69XasmJ5G+t5B1RZTyVjXwqq6BrfN3GIaS3V3CHyGmGBDTLAhJtgQE2yICTbEBBtigg0xwYaYYENMsCEm2BATbI7qubmIWBcmKT1R+6hxruCfavftMd/fa7DNJqU0+QcPju2J3h99r5LjVYN9ONFw74zqDZs52BATbIgJNsQEG2KCDTHBhphgQ0ywISbYEBNsiAk2xAQbYoINMcGGmLorvbBr9o7tfqah3asdAuP/G9fyezOvVcH9R27EtN2noy/lVzLfTWjYsclgM/e5m9IwXimlhdpfLmTE9NGrur0hV6rohfAOxPTRpusbefObdB/7XZ3jQUwfrfecfhbvq+yCmD5q9py+9Lro2SCmjy4iolMgeZiKqT4+NThi+uhE3cdX6bqjPgvE9Lm/SoP6RMRX7T/Qc9WIabvSoD5dBv2ZFWKCDTHBhphgQ0ywISbYEBNsiAk23By33XlENDs+55rcO8S03ZW4k3IvbOZgQ0ywISbYEBNsiAk2xAQbYoINMcGGmGBDTLAhJtgQE2yICTbEBBtigs2x3c90M/YKjORp7BXo4qgGfMa0sZmDDTHBhphgQ0ywISbYEBNsiAk2xASb3s6AR8S6r2XDYpNSso6w0OflFEY9mhk2c7AhJtgQE2yICTbEBBtigg0xwYaYYENMsCEm2BATbKb8qNODdg++3Gj39b+x57/V7keUFpLOepx/cFOOaZ1SWm77MCKW2v3PHHv+VUppvWP+Rrtj+NH5B8dmDjbEBBtigg0xwYaYYENMsOntLSgRwetVpu0hpdQ4F8gvE2yICTbEBBtigg0xwYaYYENMsCEm2BATbIgJNsQEmz5v253r0BTH4sm9QIa7gA2bOdgQE2yICTbEBJv/AFhkJIRhfX/rAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/italy-1587287_1280.719a8c9f.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__1CvE7\",\"load2\":\"Spinner_load2__2MGgQ\"};","module.exports = __webpack_public_path__ + \"static/media/1.0e30a5b0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/10.e49471bd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/11.e9145ea9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/12.ac4c3b1e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/13.c75b8cce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/14.4bb1cc8d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.655e741f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.db446432.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.633fd194.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5.4776073e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6.7f701a1a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/7.cbdfaa4d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/8.4c6b71ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/9.c229014d.jpg\";","import * as actionTypes from './actionTypes'\r\n\r\nexport const alert = () => {\r\n    return dispatch => {\r\n        dispatch(showAlertMessage())\r\n        dispatch(checkAlertTimeout())\r\n    }\r\n}\r\n\r\n/**\r\n * 到store讓isAlertMessage變為true來開啟alert \r\n */\r\nexport const showAlertMessage = () => {\r\n    return{\r\n        type: actionTypes.SHOW_ALERTMESSAGE,\r\n    }\r\n}\r\n\r\n/**\r\n * 1.5秒後關閉alert\r\n * @param {}  \r\n */\r\nexport const checkAlertTimeout = () => {\r\n    return dispatch => {\r\n        setTimeout(() => {\r\n            dispatch(showAlertMessage());\r\n        }, 1500);\r\n    };\r\n};\r\n\r\n\r\n\r\n","export const AUTH_START = 'AUTH_START'\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS'\r\nexport const AUTH_FAIL = 'AUTH_FAIL'\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\nexport const SHOW_ALERTMESSAGE = 'SHOW_ALERTMESSAGE';\r\nexport const AUTH_CLEARERROR = 'AUTH_CLEARERROR';\r\n","import axios from 'axios';\r\nimport * as actionTypes from './actionTypes'\r\n\r\n/**\r\n * showing loading state + spinner\r\n */\r\nexport const authStart = () => {\r\n    console.log('authstart')\r\n    return{\r\n        type: actionTypes.AUTH_START\r\n    }\r\n}\r\n\r\nexport const authSuccess = (token, userId) => {\r\n    return {\r\n        type: actionTypes.AUTH_SUCCESS,\r\n        idToken: token,\r\n        userId: userId\r\n    };\r\n};\r\nexport const authFail = (error) => {\r\n    console.log('err os',error)\r\n    return{\r\n        type: actionTypes.AUTH_FAIL,\r\n        error: error\r\n    }\r\n}\r\n/**\r\n *  when logging out, remove local storage items\r\n */\r\nexport const logout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('expirationDate');\r\n    localStorage.removeItem('userId');\r\n    return {\r\n        type: actionTypes.AUTH_LOGOUT\r\n    };\r\n};\r\n/**\r\n * actively log user out after token has expired while user is still on the app\r\n * @param {Number} expirationTime \r\n */\r\nexport const checkAuthTimeout = expirationTime => {\r\n    return dispatch => {\r\n        setTimeout(() => {\r\n            dispatch(logout());\r\n        }, expirationTime * 1000);\r\n    };\r\n};\r\n\r\nexport const clearErrorMessage = () => {\r\n    return{\r\n        type: actionTypes.AUTH_CLEARERROR\r\n    }\r\n}\r\n\r\n// holding the async code doing the authentication,\r\n// so a function which gets dispatch as an argument\r\n// thanks to redux-thunk and in there, I now want to authenticate the user.\r\nexport const auth = (email, password, isSignup) => {\r\n    return dispatch => {\r\n       dispatch(authStart()) //authenticate the user\r\n       const authData = {\r\n           email: email,\r\n           password: password,\r\n           returnSecureToken: true\r\n       }\r\n       let url = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyB0ghzUV4KJM2ITx-IHuL0mrqj4SufXYPo';\r\n       if (!isSignup) {\r\n           url = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB0ghzUV4KJM2ITx-IHuL0mrqj4SufXYPo';\r\n       }\r\n       axios.post(url, authData)\r\n        .then(response => {\r\n            // store login info & expiration time in localstorage\r\n            localStorage.setItem('token', response.data.idToken)\r\n            const moment = require('moment');\r\n            // outputs a Unix timestamp (the number of seconds since the Unix Epoch). ref: https://stackoverflow.com/questions/35184003/moment-js-convert-milliseconds-into-date-and-time\r\n            const timeToSeconds = moment().unix() \r\n            const sum = timeToSeconds + parseInt(response.data.expiresIn)\r\n            localStorage.setItem('expirationDate', moment.unix(sum).format(\"DD MMM YYYY hh:mm a\"))\r\n            localStorage.setItem('userId', response.data.localId);\r\n            dispatch(authSuccess(response.data.idToken, response.data.localId));\r\n            dispatch(checkAuthTimeout(response.data.expiresIn));\r\n        })\r\n        .catch(err => {\r\n            console.log('err is',err)\r\n            dispatch(authFail(err.response.data.error));\r\n        });\r\n     }\r\n}\r\n\r\n/**\r\n * check login status upon app \r\n * @param {*} expirationTime \r\n */\r\nexport const authCheckState = () => {\r\n    return dispatch => {\r\n        const token = localStorage.getItem('token');\r\n        //never logged in\r\n        if(!token){ \r\n            dispatch(logout())\r\n        //has token\r\n        }else{\r\n            const expirationDate = new Date(localStorage.getItem('expirationDate'));\r\n            //token expired\r\n            if (expirationDate <= new Date()){\r\n                dispatch(logout())\r\n            //token is still valid, so login and dispatch checkAuthTimeout()\r\n            }else{\r\n                const userId = new Date(localStorage.getItem('userId'));                \r\n                dispatch(authSuccess(token,userId))\r\n                //first get the difference in milliseconds then divide by 1000 to get seconds\r\n                dispatch(checkAuthTimeout((expirationDate.getTime() - new Date().getTime()) / 1000 ));                \r\n            }\r\n        }\r\n}\r\n};\r\n","import * as actionTypes from './actionTypes'\r\nconst cart = {\r\n    ADD_TOCART:'ADD_TOCART',\r\n    CLEAR_CART: 'CLEAR_CART',\r\n    DELETE_ITEM:'DELETE_ITEM',\r\n    ONOPEN_CART:'ONOPEN_CART',\r\n    OPENCART_AFTERAUTH: 'OPENCART_AFTERAUTH'\r\n    }; \r\nexport { cart };\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { createBrowserHistory} from 'history';\r\nimport styles from './Nav.module.scss';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table, Alert } from 'reactstrap';\r\nimport { cart as actionTypesCart } from './store/action/cart';\r\n// import Select from 'react-select';\r\n// import 'react-dropdown/style.css';\r\n\r\n\r\nconst history = createBrowserHistory();\r\nclass Navbar extends Component {\r\n  state = {\r\n    item: '',\r\n    modal: false,\r\n    selectedOption: null,\r\n    urlRouter: [\r\n      {id:0,url:\"auth\",pageName:'註冊/登入'},\r\n      {id:1,url:\"about-us\",pageName:'關於我們'},\r\n      {id:2,url:\"redux-practice\",pageName:'redux練習'}\r\n    ],\r\n    redirect:null\r\n  }\r\n  /**\r\n   * 按下結帳按鈕觸發alert & 清空\r\n   * @param {number} totalPrice 總價\r\n   */\r\n  checkOut = totalPrice => {\r\n    alert(`已經從您的信用卡扣款${totalPrice}元`)\r\n    this.props.clearCart()\r\n    history.push('/')\r\n    window.location.reload(true)\r\n  }\r\n\r\n  /**\r\n   * 按下登入並結帳按鈕帶到auth頁\r\n   */\r\n  signinToCheckout = () =>{\r\n    history.push('#/auth'); //用了hashrouter後, 原本是'/auth'\r\n    window.location.reload(true)\r\n    this.props.openCartAfterAuth(true)\r\n  }\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  }\r\n  componentDidUpdate = prevProps => {\r\n   //比較global reducer的cart.isOpenCart 有改變時啟動開合\r\n    if (this.props.isOpenCart !== prevProps.isOpenCart) this.toggle()\r\n\r\n    //未登入結帳需先登入\r\n    if (this.props.cartStateOpenCartrtAfterAuth !== prevProps.cartStateOpenCartrtAfterAuth) this.toggle()    \r\n  }\r\n\r\n  render() {\r\n    const FontAwesome = require('react-fontawesome')\r\n\r\n     //算總數量\r\n    let totalQty = null\r\n    let i\r\n    for (i in this.props.cart) {\r\n      totalQty += this.props.cart[i].qty\r\n    }\r\n\r\n    let cart = null\r\n    if (this.props.cart.length) {\r\n      cart = (\r\n          <div className={styles.shoppingcartWrap} \r\n            onClick={this.toggle}>\r\n            <FontAwesome\r\n                name=\"shopping-cart\"\r\n                className={styles.shoppingcartIcon}\r\n              />\r\n            <div className={styles.numberWrap}>\r\n              <div className={styles.number}>\r\n                {totalQty}\r\n              </div>\r\n            </div>\r\n        </div>\r\n      )\r\n    } else {\r\n      cart = (\r\n          <div className={styles.shoppingcartWrap} onClick={this.toggle}>\r\n            <FontAwesome\r\n                name=\"shopping-cart\"\r\n                className={styles.shoppingcartIcon}\r\n                />\r\n            </div>\r\n      )\r\n    }\r\n    const totalPrice = this.props.cart.reduce((acc, item) => (acc += item.price * item.qty), 0)\r\n    \r\n    //登入登出的白色border, 登出沒有,登入才有\r\n    const whiteBorder = !this.props.isAuthenticated ? `${styles.whiteBorder}` : '';\r\n\r\n    // 提示已經有商品放入購物車了\r\n    let alert = null\r\n    if (this.props.isAlertMessage) {\r\n      alert = (\r\n        <div>\r\n          <div className={styles.popupMessage}>\r\n          <FontAwesome\r\n          className={styles.checkIcon}\r\n          name=\"check-circle\"/>\r\n          商品已放入購物車\r\n        </div>\r\n      </div>\r\n      )\r\n    } \r\n    return (\r\n      <div style={{position:'relative'}}>\r\n        {alert}\r\n      <nav>\r\n        {/* toggle可讓點選Modal window外的地方也能關掉 */}\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n          <ModalHeader>購物車</ModalHeader>\r\n          {this.props.cart.length ?\r\n            <div>\r\n              <ModalBody>\r\n                <Table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>#</th>\r\n                      <th>品項</th>\r\n                      <th>價格</th>\r\n                      <th>數量</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {this.props.cart.map((i, index) =>\r\n                      <tr key={index}>\r\n                        <th scope=\"row\">{index + 1}</th>\r\n                        <td>{i.name}</td>\r\n                        <td>{i.price}</td>\r\n                        <td>{i.qty}</td>\r\n                        <td>\r\n                          <Button\r\n                            style={{backgroundColor:'#3d8663'}}\r\n                            onClick={() => this.props.deleteItem(i.id)}\r\n                          >X</Button></td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </Table>\r\n                <Alert style={{backgroundColor:'#f50057',color:'white'}} className=\"text-right\">\r\n                  總價：\r\n                    {this.props.cart.reduce((acc, item) => (acc += item.price * item.qty), 0)}\r\n                  元\r\n                </Alert>\r\n              </ModalBody>\r\n              <ModalFooter>\r\n                {this.props.isAuthenticated\r\n                ? <Button color=\"primary\" onClick={() => this.checkOut(totalPrice)}>結帳</Button>\r\n                : <Button style={{backgroundColor:'#025839'}} onClick={() => this.signinToCheckout()}>登入並結帳</Button>\r\n                }\r\n                <Button style={{backgroundColor:'#3d8663',color:'white'}} onClick={this.toggle}>取消</Button>\r\n              </ModalFooter>\r\n            </div>\r\n            :\r\n            <div>\r\n              <ModalBody>\r\n                購物車內沒有商品\r\n              </ModalBody>\r\n            </div>\r\n          }\r\n        </Modal>\r\n        <div className={`${styles.navContainer} containerWrap`}>\r\n          <div>\r\n            <Link to=\"/\">\r\n            <FontAwesome\r\n              className={styles.shieldIcon}\r\n              name=\"shield\"/>\r\n            </Link>\r\n          </div>\r\n          <ul>\r\n            <li>\r\n             {cart}\r\n            </li>\r\n            {this.props.isAuthenticated\r\n              ? <Link to=\"/logout\"><li className = {whiteBorder}>登出</li></Link>\r\n              : <Link to=\"/auth\"><li className = {whiteBorder}>註冊/登入</li></Link>\r\n            }                       \r\n            </ul>\r\n        </div>\r\n      </nav >\r\n      </div>\r\n\r\n    );\r\n  };\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cart: state.cart.cart,\r\n    isAuthenticated: state.auth.token !== null,\r\n    isOpenCart : state.cart.isOpenCart,\r\n    cartStateOpenCartrtAfterAuth: state.cart.openCartAfterAuth,\r\n    isAlertMessage: state.message.isAlertMessage\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addToCart: product => dispatch({ type: actionTypesCart.ADD_TOCART, product }),\r\n    clearCart: () => dispatch({ type: actionTypesCart.CLEAR_CART}),\r\n    deleteItem: id => dispatch({ type: actionTypesCart.DELETE_ITEM, id }),\r\n    openCartAfterAuth: isOpen => dispatch({ type: actionTypesCart.OPENCART_AFTERAUTH, isOpen }),\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\nimport Select from 'react-select';\r\n\r\nimport css from './home.module.scss';\r\nimport productJson from '../../Static/product.json';\r\nimport colors from '../../Static/colors.json';\r\nconst colorOptions = [\r\n  { value: 'all', label: '全部顏色' },\r\n  { value: 'red', label: '紅色' },\r\n  { value: 'black', label: '黑色' },\r\n  { value: 'brown', label: '咖啡色' },\r\n  { value: 'grey', label: '灰色' },\r\n  { value: 'yellow', label: '黃色' },\r\n  { value: 'green', label: '綠色' },\r\n  { value: 'blue', label: '藍色' },\r\n]\r\nclass Home extends Component {\r\n  state = {\r\n    colors:colors,\r\n    inputArray: document.getElementsByTagName(\"INPUT\"),\r\n    isClearButton:null,\r\n    product: productJson,\r\n    selectedColor: '',\r\n    isShowKeyboard:false,\r\n  }\r\n  /**\r\n   * 手機板的顏色filter\r\n   */\r\n  handleChange = selectedColor => {\r\n    this.setState({ selectedColor });\r\n  };\r\n\r\n  /**\r\n   * user點選'清除選取', 回復到預設\r\n   */\r\n  clearFilter = () =>{\r\n    //呈現所有product & 清掉清除選取button\r\n    this.setState(() => ({ product: productJson}));\r\n    this.setState(() => ({ isClearButton: null}));\r\n\r\n    //uncheck已經check過的input \r\n    for (let i in this.state.inputArray){\r\n      let isChecked = Boolean(this.state.inputArray[i].checked)\r\n      if(isChecked) {\r\n        this.state.inputArray[i].checked = false;\r\n      } \r\n    }\r\n  }\r\n\r\n  /**\r\n   * 按照user選的顏色呈現出對應的產品\r\n   * @param {object} e 該按鈕\r\n   */\r\n  displaySelectedProduct = e =>{\r\n    const colorSelected = e.target.getAttribute('data-tag')\r\n    const sortColor = productJson.filter(i=>i.color === colorSelected)\r\n    this.setState(() => ({ product: sortColor}));\r\n  }\r\n  /**\r\n   * 手機板的顏色filter:一進來預設為全部顏色(全部顯示)\r\n   */\r\n  componentDidMount = () => this.setState({ selectedColor: { value: 'all', label: '全部顏色' }});\r\n\r\n  render() {\r\n    const { selectedColor,isShowKeyboard } = this.state;\r\n\r\n    let {isClearButton} = this.state\r\n    for (let i in this.state.inputArray){\r\n      let isChecked = Boolean(this.state.inputArray[i].checked)\r\n      if(isChecked){\r\n        isClearButton = (\r\n          <div style={{cursor:'pointer',color:'#2e90b7',marginBottom: '15px'}} onClick={this.clearFilter}>清除選取 x</div>\r\n        )\r\n      }\r\n    }\r\n\r\n\r\n    //左邊的顏色列表; !input上面的name=\"color\"一定要在不然會有bug, 暫時無解\r\n    // https://www.freecodecamp.org/forum/t/react-onclick-get-li-clicked-solved/68112\r\n    // https://stackoverflow.com/questions/20377837/how-to-access-custom-attributes-from-event-object-in-react\r\n    // https://stackoverflow.com/questions/48699573/correct-use-of-arrow-functions-in-react\r\n    const displayColorsOnLeft = this.state.colors.map((v,i) => (\r\n    <label key={i} className={css.select}>\r\n        <input style={{display:'none'}} type=\"radio\" data-tag={v.color} name=\"color\" onClick={this.displaySelectedProduct.bind(this)} />\r\n        <span className={css.color}><div className={css.fuck1} style={{background:v.style}}></div></span>  \r\n    </label>\r\n    ));\r\n\r\n    //右邊的產品列表\r\n    let { product } = this.state;\r\n    //手機板的顏色filter: 如果user有選取顏色, 則顯示該對應的商品\r\n    if(this.state.selectedColor.value != 'all') product = productJson.filter(i=>i.color === this.state.selectedColor.value)\r\n    \r\n    const productList = product.map(product => (\r\n      <div key={product.id} className={css.productWrap}>\r\n        <Link\r\n          to={'/product-page/' + product.id}>\r\n          <img src={require(`../../assets/image/${product.img}.jpg`)} alt=\"Card image cap\" />\r\n          <div className={css.productDescription}>\r\n            <div>{product.name}</div>\r\n            <div>{product.desc}</div>\r\n            <div>NT ${product.price}</div>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    ));\r\n\r\n    return (\r\n      <div className={css.pageWrap} >\r\n          <main className=\"containerWrap\">\r\n            <aside className={css.homeAside1} style={{paddingRight:'20px'}}>\r\n              <div className={css.titleWrap} style={{marginBottom:'15px'}}>\r\n                <h3>選取顏色</h3>\r\n              </div>\r\n              <div>\r\n                {isClearButton}\r\n                <ul className={css.homeColorFilter}>\r\n                  {displayColorsOnLeft}\r\n                </ul >\r\n              </div>\r\n            </aside>\r\n            <aside className={css.homeAside2}>\r\n            <header className={css.header}>時尚腕錶</header>\r\n            <section className={css.mobileFilter}>\r\n              <Select\r\n                  defaultValue={colorOptions[0]}\r\n                  value={selectedColor}\r\n                  onChange={this.handleChange}\r\n                  options={colorOptions}\r\n                  width=\"100\"\r\n                  isSearchable = {isShowKeyboard}\r\n                  placeholder = {this.foo}\r\n                  style={{width:'120px'}}\r\n                />\r\n            </section>\r\n            <div>顯示 {product.length} 個結果</div>\r\n            <hr/>\r\n\r\n              <div className={css.productList}>\r\n                {productList}\r\n              </div>\r\n            </aside>\r\n          </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cart: state.cart.cart,\r\n  }\r\n}\r\nexport default connect(mapStateToProps, null)(Home)\r\n","import React from 'react';\r\n\r\nimport classes from './Spinner.module.scss';\r\n\r\nconst spinner = () => (\r\n    <div className={classes.Loader}>Loading...</div>\r\n);\r\n\r\nexport default spinner;","import React from 'react';\r\nimport classes from './Input.module.scss';\r\nconst input = ( props ) => {\r\n    let inputElement = null;\r\n    const inputClasses = [classes.InputElement];\r\n\r\n    if (props.invalid && props.shouldValidate && props.touched) {\r\n        inputClasses.push(classes.Invalid);\r\n    }\r\n\r\n    switch ( props.elementType ) {\r\n        case ( 'input' ):\r\n            inputElement = <input\r\n                className={inputClasses.join(' ')}\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                onChange={props.changed} />;\r\n            break;\r\n        case ( 'textarea' ):\r\n            inputElement = <textarea\r\n                className={inputClasses.join(' ')}\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                onChange={props.changed} />;\r\n            break;\r\n        case ( 'select' ):\r\n            inputElement = (\r\n                <select\r\n                    className={inputClasses.join(' ')}\r\n                    value={props.value}\r\n                    onChange={props.changed}>\r\n                    {props.elementConfig.options.map(option => (\r\n                        <option key={option.value} value={option.value}>\r\n                            {option.displayValue}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            );\r\n            break;\r\n        default:\r\n            inputElement = <input\r\n                className={inputClasses.join(' ')}\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                onChange={props.changed} />;\r\n    }\r\n\r\n    return (\r\n        <div className={classes.Input}>\r\n            <label className={classes.Label}>{props.label}</label>\r\n            {inputElement}\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default input;","import React from 'react';\r\n\r\nimport classes from './Button.module.scss';\r\n\r\nconst button = (props) => (\r\n    <button\r\n        disabled={props.disabled}\r\n        className={[classes.Button, classes[props.btnType]].join(' ')}\r\n        onClick={props.clicked}>{props.children}</button>\r\n);\r\n\r\nexport default button;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport * as actions from '../../../store/action/index'\r\nimport userName from '../../../assets/others/user_name.png';\r\nimport password from '../../../assets/others/password.png';\r\nimport leftBackground from '../../../assets/others/italy-1587287_1280.jpg';\r\nimport css from './Auth.module.scss';\r\nimport translationJson from '../../../Static/translation.json';\r\nimport Spinner from '../../../Components/UI/Spinner/Spinner';\r\nimport Input from '../../../Components/UI/Input/Input';\r\nimport Button from '../../../Components/UI/Button/Button';\r\nclass Auth extends Component {\r\n    state = {\r\n        translationJson,\r\n        controls: {\r\n            email: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'email',\r\n                    placeholder: '請輸入您的email'\r\n                },\r\n                value: '',\r\n                validation: {\r\n                    required: true,\r\n                    isEmail: true\r\n                },\r\n                valid: false,\r\n                touched: false\r\n            },\r\n            password: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'password',\r\n                    placeholder: '請輸入您的密碼'\r\n                },\r\n                value: '',\r\n                validation: {\r\n                    required: true,\r\n                    minLength: 6\r\n                },\r\n                valid: false,\r\n                touched: false\r\n            }\r\n        },\r\n        isSignup: false,\r\n    }\r\n\r\n    checkValidity(value, rules) {\r\n        let isValid = true;\r\n        if (!rules) {\r\n            return true;\r\n        }\r\n\r\n        if (rules.required) {\r\n            isValid = value.trim() !== '' && isValid;\r\n        }\r\n\r\n        if (rules.minLength) {\r\n            isValid = value.length >= rules.minLength && isValid\r\n        }\r\n\r\n        if (rules.maxLength) {\r\n            isValid = value.length <= rules.maxLength && isValid\r\n        }\r\n\r\n        if (rules.isEmail) {\r\n            const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n            isValid = pattern.test(value) && isValid\r\n        }\r\n\r\n        if (rules.isNumeric) {\r\n            const pattern = /^\\d+$/;\r\n            isValid = pattern.test(value) && isValid\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n    \r\n    /**\r\n     * password input的提示顯示\r\n     * @param {string} controlName\r\n     */\r\n    displayHintText = controlName => {\r\n        let hintElement = document.getElementsByClassName('hintText')\r\n        //先清空\r\n        for (let i = 0; i < hintElement.length; i++){\r\n            hintElement[i].innerHTML = ''\r\n        }\r\n        if(controlName === 'password') hintElement[1].innerHTML='需含至少6個字母'        \r\n    }\r\n\r\n    //section352-937\r\n    inputChangedHandler = (event, controlName) => {\r\n        const updatedControls = {\r\n            ...this.state.controls,\r\n            [controlName]: {\r\n                ...this.state.controls[controlName],\r\n                value: event.target.value,\r\n                valid: this.checkValidity(event.target.value, this.state.controls[controlName].validation),\r\n                touched: true\r\n            }\r\n        };\r\n        this.setState({ controls: updatedControls });\r\n    }\r\n\r\n    /**\r\n     * 手機尺寸時(<420px)隱藏input裡的icon\r\n     */\r\n    onClearInputIcon = () =>{\r\n        let width = window.screen.width\r\n        let imgElement = document.getElementsByClassName('imgElement')\r\n        if(width <= 420) {\r\n            for (let i = 0; i < imgElement.length; i++){\r\n                imgElement[i].style.display = 'none'\r\n            }\r\n        }\r\n    }\r\n\r\n    // #353 adding actions-5:35\r\n    submitHandler = event => {\r\n        event.preventDefault(); //prevent reloading of the page\r\n        this.props.onAuth(this.state.controls.email.value, this.state.controls.password.value, this.state.isSignup);\r\n    }\r\n\r\n    /**\r\n     * switch btw signin & signup\r\n     */\r\n    switchAuthModeHandler = () => {\r\n        this.setState(prevState => {\r\n            return { isSignup: !prevState.isSignup };\r\n        });\r\n    }\r\n\r\n    componentDidMount = () =>{\r\n        // 頁面載入時清空redux的error message\r\n        this.props.onClearErrorMessage()\r\n\r\n        //頁面載入時跑出圖片\r\n        this.imagesInInputs()\r\n\r\n        //手機尺寸時(<420px)隱藏input裡的icon\r\n        this.onClearInputIcon()\r\n    }\r\n\r\n    /**\r\n     * 跑出inputs的兩張不同icon圖, (bug的workaround->)因暫時無法在render的formElementsArray的迴圈裡放不同的圖片\r\n     */\r\n    imagesInInputs = () =>{\r\n        let imgElement = document.getElementsByClassName('imgElement')\r\n        imgElement[0].src=userName\r\n        imgElement[1].src=password\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {*} prevState\r\n     * @param {*} prevProps \r\n     */\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        // user點選註冊/登入清空以下\r\n        if (this.state.isSignup != prevState.isSignup) {\r\n            // redux的error message\r\n            this.props.onClearErrorMessage()\r\n            // input的提示\r\n            this.displayHintText()\r\n\r\n            //手機尺寸時(<420px)隱藏input裡的icon\r\n            this.onClearInputIcon()   \r\n        }\r\n\r\n        // 因為有error時會重新render而不會跑出圖, 所以去偵測props.error有改變時重新帶入圖片\r\n        if (this.props.error != prevProps.error) {\r\n            this.imagesInInputs()\r\n            this.onClearInputIcon()\r\n        }\r\n    }\r\n\r\n    render() {\r\n    const FontAwesome = require('react-fontawesome')\r\n\r\n    //convert state.controls to an aray to be looped\r\n    const formElementsArray = [];\r\n    let key\r\n    for (key in this.state.controls) {\r\n        formElementsArray.push({\r\n            id: key,\r\n            config: this.state.controls[key]\r\n        });\r\n    }\r\n    let form = formElementsArray.map(i => (\r\n        <div style={{position:'relative'}}\r\n            onClick={() => this.displayHintText(i.id)}\r\n            onKeyUp={() => this.displayHintText(i.id)}>\r\n            <Input\r\n            key={i.id}\r\n            elementType={i.config.elementType}\r\n            elementConfig={i.config.elementConfig}\r\n            value={i.config.value}\r\n            invalid={!i.config.valid}\r\n            shouldValidate={i.config.validation}\r\n            touched={i.config.touched}\r\n            changed={(event) => this.inputChangedHandler(event, i.id)} />\r\n            <div class='hintText' style={{margin: '0px 0px 20px 0px',\r\n                color: 'black',\r\n                fontWeight: '100',\r\n                fontSize: '20px'}} />\r\n            <img class='imgElement' \r\n                style={{position: 'absolute',\r\n                top: '13px',\r\n                left: '356px',\r\n                width: '40px'\r\n            }}  />\r\n        </div>\r\n    ));\r\n\r\n    //submit之後把input區換成spinner\r\n    if (this.props.loading) form = <Spinner />\r\n\r\n    //即時反應this.props.error的對應錯誤訊息\r\n    let errorMessage\r\n    //預設為null,有error msg則會進入if判斷式\r\n    if (this.props.error != undefined) {\r\n        let found = false;\r\n        //檢查是否有在translation的mapping裡面\r\n        let i\r\n        for (i in translationJson) {\r\n            if (translationJson[i].en === this.props.error.message) {\r\n                found = true\r\n                break\r\n            }\r\n        }\r\n        errorMessage = found\r\n            //有則給出對應中文\r\n            ? translationJson.find(i => i.en === this.props.error.message).ch\r\n            //沒有則單純顯示錯誤\r\n            : 'email或密碼格式有錯，請再試一次'\r\n    }\r\n\r\n    // 有error message的時候顯示對應畫面\r\n    let errorMessageContent\r\n    if(errorMessage) errorMessageContent = (\r\n        <div style={{ position: 'relative' }} \r\n            className={`${css.bullhorn} ${css.generalText}`}>\r\n            <FontAwesome name=\"bullhorn\" />\r\n            {errorMessage}\r\n        </div>\r\n    )\r\n\r\n\r\n    let redirect\r\n    // checkout之後要導入到原產品頁面\r\n    if (this.props.isAuthenticated && this.props.openCartAfterAuth) {\r\n        redirect = (<Redirect to={\"/product-page/\" + this.props.productSelected.id} />)\r\n    }\r\n    //一般登入, 登入完後到homepage\r\n    if (this.props.isAuthenticated && !this.props.openCartAfterAuth) {\r\n        redirect = (<Redirect to=\"/\" />)\r\n    }\r\n        return (\r\n            <div className={css.wrap} >\r\n                {redirect}\r\n                <aside>\r\n                    <img src={leftBackground} />\r\n                </aside>\r\n                <aside>\r\n                    <div>\r\n                        <div className={css.generalExtraLarge}>\r\n                            <form onSubmit={this.submitHandler}>\r\n                            <header style={{ textAlign: 'center' }}>{this.state.isSignup ? '註冊' : '登入'}\r\n                        </header>\r\n                                {errorMessageContent}\r\n                                {form}\r\n                                <Button\r\n                                ><div style={{\r\n                                    color: 'white',\r\n                                    fontSize: '20px',\r\n                                    fontWweight: 'bold',\r\n                                    margin: 'auto',\r\n                                }}>送出</div></Button>\r\n\r\n                            </form>\r\n                            <div style={{color: 'darkblue',\r\n                                textAlign: 'center',\r\n                                fontSize: '16px',\r\n                                marginTop: '10px',\r\n                                textDecoration: 'underline',\r\n                                cursor: 'pointer'}} onClick={this.switchAuthModeHandler}>我要{this.state.isSignup ? '登入' : '註冊'}</div>\r\n                        </div>\r\n                    </div>\r\n                </aside>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        error: state.auth.error,\r\n        isAuthenticated: state.auth.token !== null,\r\n        loading: state.auth.loading,\r\n        openCartAfterAuth: state.cart.openCartAfterAuth,\r\n        productSelected: state.product.productDetail\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onAuth: (email, password, isSignup) => dispatch(actions.auth(email, password, isSignup)),\r\n        onClearErrorMessage: () => dispatch(actions.clearErrorMessage())\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from '../../../store/action/index';\r\n\r\nclass Logout extends Component {\r\n    componentDidMount () {\r\n        this.props.onLogout();\r\n    }\r\n\r\n    render () {\r\n        return <Redirect to=\"/\"/>;\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(actions.logout())\r\n    };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout);","import React from 'react';\r\nconst userAccount = (props) => (\r\n   <div>\r\n       my account\r\n   </div>\r\n);\r\nexport default userAccount;","const product = {\r\n    ADD_PRODUCT:'ADD_PRODUCT',\r\n    DELETE_PRODUCT:'DELETE_PRODUCT',\r\n    FIND_PRODUCT:'FIND_PRODUCT',\r\n    }; \r\nexport { product };","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { cart as actionTypesCart } from '../../store/action/cart';\r\nimport { product as actionTypesProduct } from '../../store/action/product';\r\nimport Select from 'react-select';\r\n\r\nimport * as actions from '../../store/action/index'\r\nimport css from './productPage.module.scss';\r\nconst options = [\r\n  { value: '1', label: '1' },\r\n  { value: '2', label: '2' },\r\n  { value: '3', label: '3' },\r\n  { value: '4', label: '4' },\r\n  { value: '5', label: '5' },\r\n]\r\nclass productPage extends Component {\r\n  state = {\r\n    checkoutText: '放入購物車',\r\n    id: '1',\r\n    selectedOption: null,\r\n  }\r\n  handleChange = selectedOption => {\r\n    this.setState({ selectedOption });\r\n  };\r\n  /**\r\n   * 點選加入購物車 || 立刻結帳\r\n   * @param {string} checkoutText 按鈕的文字\r\n   */\r\n  addOrCheckout = checkoutText => {\r\n    //加入購物車並把商品推上cart reducer\r\n    if(checkoutText === '放入購物車'){\r\n        const { productDetail } = this.props\r\n        if (this.state.selectedOption.value == null) this.setState({ selectedOption: 1 })\r\n        this.props.addToCart({\r\n          ...productDetail,\r\n          qty: parseInt(this.state.selectedOption.value)\r\n        })\r\n        //dispatch到store讓navbar底下的popmessage出現\r\n        this.props.alert()\r\n        this.setState(() => ({  checkoutText: '立刻結帳'}));  \r\n    //立刻結帳dispatch到reducer把openCartAfterAuth改為true\r\n    }else{\r\n      this.props.onOpenCart()\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ selectedOption: { value: 1, label: '1' } });\r\n    let id = parseInt(this.props.match.params.id)\r\n    this.props.findProduct(id)\r\n\r\n    //未登入要結帳需先登入再回到這, 然後dispatch onOpenCart()來打開Nav.js的cart\r\n    if (this.props.stateOpenCartAfterAuth) {\r\n      this.props.onOpenCart()\r\n    \r\n      //test:還原openCartAfterAuth, 不然會一直打開\r\n      this.props.openCartAfterAuth(false)\r\n      //test\r\n    }\r\n  }\r\n  render() {\r\n    const FontAwesome = require('react-fontawesome')\r\n    const { selectedOption } = this.state;\r\n    \r\n    let productImage\r\n    //this.props.productDetail有值才出現圖片不然讀不到圖片會有error\r\n    if(Object.keys(this.props.productDetail).length){\r\n      productImage = (\r\n        <img alt=\"products\" src={require(`../../assets/image/${this.props.productDetail.img}.jpg`)}/>\r\n      )\r\n    }\r\n\r\n    //登入登出的白色border, 登出沒有,登入才有\r\n    const buttonColor = this.state.checkoutText === '放入購物車' \r\n    ? `${css.orange}` \r\n    : `${css.skyblue}`;\r\n    return (\r\n      <div className={css.productPageWrap}>\r\n        <div className=\"containerWrap\">\r\n          <div className={css.productFlex}>\r\n            <div>\r\n              {productImage}\r\n            </div>\r\n            <div  className={css.rightSection}>\r\n              <div className={css.container}>\r\n                <header>{this.props.productDetail.name}</header>\r\n                  <header>{this.props.productDetail.desc}</header>\r\n                <div>${this.props.productDetail.price}</div>\r\n                <div>\r\n                  <div className={css.numberTitle}>數量:</div>\r\n                      <Select\r\n                    defaultValue={options[0]}\r\n                    value={selectedOption}\r\n                    onChange={this.handleChange}\r\n                    options={options}\r\n                    width=\"100\"\r\n                    style={{width:'120px'}}\r\n                  />\r\n                </div>\r\n                <div \r\n                  className = {buttonColor}\r\n                  onClick={()=> this.addOrCheckout(this.state.checkoutText)}>\r\n                  <FontAwesome\r\n                    style={{fontSize:'20px',color:'white'}}\r\n                    name=\"shopping-cart\"\r\n                    />\r\n                  <span                 style={{marginLeft:'5px',color:'white'}}\r\n  >{this.state.checkoutText}</span>\r\n                  </div>\r\n                <p>\r\n                付款後，從備貨到寄出商品為 1 個工作天。（不包含假日）\r\n                設計館提供統一發票或免用統一發票收據\r\n                國泰世華信用卡三期零利率，滿 NT$1,500 六期零利率\r\n                </p>\r\n                <hr/>\r\n                <p>\r\n                簡約羅馬數字機械腕錶📷\r\n                <br/>\r\n                  原裝自動機械機芯⛓無需電池、永久走時\r\n                  <br/>\r\n\r\n                  歡迎個人化訂製，免費雕刻文字🛠\r\n                  <br/>\r\n                  #特顯個性 刻上您簽名的機械腕錶\r\n                  <br/>\r\n                  亦可提供圖片來圖訂製🔩\r\n                  <br/>\r\n                  DESIGN YOUR OWN\r\n                  <br/>\r\n                  夜光功能，自動上鏈，精準走時⛓\r\n                  <br/>\r\n                  原裝機械機芯⚙️\r\n                  <br/>\r\n                  「利用擺陀佩戴過程中旋擺來驅動發條產生能源，從而推動走時。」\r\n                  <br/>\r\n                  「複雜的工藝和精心設計使得機械錶有很高的欣賞價值。」\r\n                  <br/>\r\n                  .\r\n                  <br/>\r\n                  錶帶尺寸可調節🌖\r\n                  <br/>\r\n                  男女都適合佩戴🌗\r\n                  <br/>\r\n                  .\r\n                  <br/>\r\n                  詳情歡迎向我們查詢\r\n                  <br/>\r\n                  **\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    productDetail: state.product.productDetail,\r\n    cart: state.cart.cart,\r\n    stateOpenCartAfterAuth: state.cart.openCartAfterAuth      \r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addToCart: product => dispatch({ type: actionTypesCart.ADD_TOCART, product }),\r\n    findProduct: id => dispatch({ type: actionTypesProduct.FIND_PRODUCT, id }),\r\n    onOpenCart: () => dispatch({ type: actionTypesCart.ONOPEN_CART}),\r\n    openCartAfterAuth: isOpen => dispatch({ type: actionTypesCart.OPENCART_AFTERAUTH, isOpen }),\r\n    alert: () => dispatch(actions.alert())\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(productPage);","import { NotFound} from './containers/pages/pages';\r\nimport Home from './containers/Home/Home';\r\nimport Auth from './containers/Auth/Auth/Auth';\r\nimport Logout from './containers/Auth/Logout/Logout';\r\nimport userAccount from './containers/pages/userAccount';\r\nimport productPage from './containers/Product/productPage';\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    component: Home,\r\n    exact: true,\r\n    breadcrumbName: 'Home'\r\n  },\r\n  {\r\n    path:\"/auth\",\r\n    component: Auth,\r\n    exact:true\r\n  },\r\n  {\r\n    path:\"/logout\",\r\n    component: Logout,\r\n    exact:true\r\n  },\r\n  {\r\n    path:\"/user-account\",\r\n    component: userAccount,\r\n    exact:true\r\n  },\r\n  {\r\n    path:\"/product-page/:id\",\r\n    component: productPage,\r\n  },\r\n  {\r\n    component: NotFound,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React from 'react';\r\n// import { renderRoutes } from 'react-router-config'\r\n// import routes from './routes';\r\n// import { Breadcrumb } from '../components';\r\n// import classes from './pages.module.scss';\r\n// import room1 from '../assets/images/room1.jpg';\r\n// import room2 from '../assets/images/room2.jpg';\r\n// import room3 from '../assets/images/room3.jpg';\r\n// import PostList from '../containers/PostList';\r\n/**\r\n * These are root pages\r\n */\r\n\r\n// const Posts = () => {\r\n//   return (\r\n//     <div className=\"container\">\r\n//       <div className=\"row\">\r\n//         <div className=\"col-md-6\">\r\n//           {/* <CreatePost /> */}\r\n//         </div>\r\n//         <div className=\"col-md-6\">\r\n//           {/* <PostList /> */}\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n\r\n\r\nconst NotFound = () => {\r\n  return \"Page not found.\"\r\n}\r\n\r\n/**\r\n * These are pages nested in Electronics\r\n */\r\nconst Mobile = () => {\r\n  return <h3>Mobile Phone</h3>;\r\n};\r\n\r\nconst Desktop = () => {\r\n  return <h3>Desktop PC</h3>;\r\n};\r\n\r\nconst Laptop = () => {\r\n  return <h3>Laptop</h3>;\r\n};\r\n\r\nexport { Mobile, Desktop, Laptop, NotFound };\r\n","import 'bootstrap/dist/css/bootstrap.css';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport * as actions from './store/action/index';\r\n//reset css\r\nimport styleReset from './assets/style/reset.css';\r\n//global css, placed after reset css so it overrides reset css\r\nimport style from './App.module.scss';\r\nimport Navbar from './Nav';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport routes from './routes';\r\nclass App extends Component {\r\n  //一進來app進check是否需登出或登入\r\n  componentDidMount() {\r\n    this.props.authCheckState()\r\n  }\r\n  render() {\r\n    return (\r\n      <div >\r\n       <Navbar />\r\n       <div className={style.center}>\r\n        {renderRoutes(routes)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    authCheckState: () => dispatch( actions.authCheckState() )\r\n  }\r\n}\r\nexport default connect(null, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const updateObject = (oldObject, updatedProperties) => {\r\n    return {\r\n        ...oldObject,\r\n        ...updatedProperties\r\n    };\r\n};","import * as actionTypes from '../action/actionTypes';\r\nimport { updateObject } from '../utility';\r\n\r\nconst initialState = {\r\n    expiresIn: null,\r\n    token: null,\r\n    userId: null,\r\n    error: null,\r\n    loading: false,\r\n    authRedirectPath: '/',\r\n};\r\n/**\r\n * for loading\r\n * @param {} state \r\n * @param {} action \r\n */\r\nconst authStart = ( state, action ) => {\r\n    return updateObject( state, { error: null, loading: true } );\r\n};\r\n/**\r\n * storing the token to access protected data in server in the future\r\n * set loading to false\r\n * @param {} state \r\n * @param {*} action \r\n */\r\nconst authSuccess = (state, action) => {\r\n    return updateObject( state, { \r\n        token: action.idToken,\r\n        userId: action.userId,\r\n        error: null,\r\n        loading: false\r\n     } );\r\n};\r\nconst authFail = (state, action) => {\r\n    console.log(state,'-',action)\r\n    return updateObject( state, {\r\n        error: action.error,\r\n        loading: false\r\n    });\r\n};\r\nconst authLogout = (state, action) => {\r\n    return updateObject( state, {\r\n        token:null,\r\n        userId: null\r\n    });\r\n};\r\nconst clearErrorMessage = (state, action) => {\r\n    return updateObject( state, {\r\n        error: null,\r\n    });\r\n};\r\n\r\nconst reducer = ( state = initialState, action ) => {\r\n    switch ( action.type ) {\r\n        case actionTypes.AUTH_START: return authStart(state, action);\r\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\r\n        case actionTypes.AUTH_FAIL: return authFail(state, action);\r\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\r\n        // test\r\n        case actionTypes.AUTH_CLEARERROR: return clearErrorMessage(state, action);\r\n        // test\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import * as actionTypes from '../action/actionTypes';\r\nimport { updateObject } from '../utility';\r\n\r\nconst initialState = {\r\n    isAlertMessage: false\r\n};\r\nconst showAlertMessage = ( state, action ) => {\r\n    return updateObject( state, \r\n        { isAlertMessage: !state.isAlertMessage, \r\n        } );\r\n};\r\nconst messageReducer = ( state = initialState, action ) => {\r\n    switch ( action.type ) {\r\n        case actionTypes.SHOW_ALERTMESSAGE: return showAlertMessage(state, action);\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default messageReducer;","const Actions = {\r\n  ADD_NAME:'ADD_NAME',\r\n  DELETE_NAME:'DELETE_NAME',\r\n  }; \r\nexport { Actions };","import { Actions as actionTypes } from '../action/action';\r\nconst initialState = {\r\n   results:[]\r\n}\r\nconst reducer = (state=initialState,action) =>{\r\n   switch(action.type){\r\n        case actionTypes.ADD_NAME:\r\n        return{\r\n            ...state,\r\n            results: state.results.concat({id: new Date(),title:action.title,description:action.description})\r\n        }\r\n       case actionTypes.DELETE_NAME:\r\n       return{\r\n           ...state,\r\n           results: state.results.filter(result =>result.id!==action.id )\r\n       }\r\n       default:\r\n    //    console.log('warning in profileReducer: not matching any of the type')\r\n   }\r\n   return state;\r\n}\r\nexport default reducer;\r\n","import { cart as actionTypes } from '../action/cart';\r\nlet initialState = {\r\n    cart: [],\r\n    isOpenCart: false,\r\n    openCartAfterAuth: false,\r\n}\r\n\r\nconst cart = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        /**\r\n         * 檢查 cart 裡面是否已經有此商品\r\n         */\r\n        case actionTypes.ADD_TOCART:\r\n            let found = state.cart.find(i => i.id === action.product.id)\r\n            // 已有此商品就將數量相加\r\n            if(found){\r\n                return {\r\n                    ...state,\r\n                    //同一個商品則把qty相加並覆蓋過去; 不同則直接返回\r\n                    cart: state.cart.map(i => i.id === found.id? { ...i, qty: i.qty + action.product.qty } : i)\r\n                }\r\n            // 沒有就直接加入\r\n            }else{\r\n                 return {\r\n                     ...state,\r\n                    cart: [...state.cart,action.product]\r\n                }\r\n            }\r\n        //開啟與閉合nav bar的購物車\r\n        case actionTypes.ONOPEN_CART:  \r\n        return {\r\n            ...state,\r\n            isOpenCart: !state.isOpenCart\r\n        }\r\n        //清空購物車\r\n        case actionTypes.CLEAR_CART:  \r\n        return {\r\n            ...state,\r\n            cart: []\r\n        }\r\n        case actionTypes.OPENCART_AFTERAUTH:  \r\n        return {\r\n            ...state,\r\n            openCartAfterAuth: action.isOpen\r\n        }\r\n        // test\r\n        case actionTypes.SHOW_ALERTMESSAGE:  \r\n        console.log('reducer showAlertMessage')\r\n        return {\r\n            ...state,\r\n            isAlertMessage: !state.isAlertMessage\r\n        }\r\n        // test        \r\n        case actionTypes.DELETE_ITEM:\r\n            return {\r\n                ...state,\r\n                cart: state.cart.filter(i => i.id !== action.id)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n    // console.log('end state',state)\r\n    // return state;\r\n}\r\nexport default cart;\r\n","import { product as actionTypes } from '../action/product';\r\nimport productJson from '../../Static/product.json';\r\nlet initialState = {\r\n    results: productJson,\r\n    productDetail:{}\r\n}\r\nconst product = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.FIND_PRODUCT:\r\n            console.log('actionTypes.FIND_PRODUCT action',action)\r\n            return {\r\n                ...state,\r\n                productDetail: state.results.find(result => result.id === action.id)\r\n            }\r\n        default:\r\n            return state\r\n            // console.log('warning in product reducer: not matching any of the type')\r\n    }\r\n    // return state;/\r\n}\r\nexport default product;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter, BrowserRouter, Switch } from 'react-router-dom'\r\nimport styles from './index.module.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {applyMiddleware, createStore,combineReducers,compose} from 'redux'  //combinreducer is new; map our reducers to slices of states & merge all into one global state for us\r\nimport {Provider} from 'react-redux'\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { loadState, saveState } from './store/localStorage';\r\nimport authReducer from './store/reducers/auth-reducer'\r\nimport messageReducer from './store/reducers/message-reducer'\r\nimport reduxPractice from './store/reducers/reduxPractice'\r\nimport cart from './store/reducers/cart'\r\nimport product from './store/reducers/product'\r\nconst rootReducer = combineReducers({  //combine reducers here\r\n    auth: authReducer,\r\n    profile:reduxPractice,\r\n    product:product,\r\n    cart:cart,\r\n    message:messageReducer\r\n })\r\n//槓掉的是原本的, ({ trace: true})會導致github page無法顯示\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ trace: true}) || compose;\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n// test\r\nconst persistedState = loadState();\r\n// test\r\n// const persistedState = localStorage.getItem('myproject-reduxState') ? JSON.parse(localStorage.getItem('myproject-reduxState')) : {}\r\nconst store = createStore(\r\n    rootReducer, \r\n    persistedState,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n);\r\n// store.subscribe(() => {\r\n//     localStorage.setItem('myproject-reduxState', JSON.stringify(store.getState()))\r\n//   })  \r\n\r\nstore.subscribe(() => {\r\n    saveState({\r\n      cart: store.getState().cart,\r\n      product: store.getState().product\r\n    });\r\n  });\r\nReactDOM.render(\r\n    //原本用BrowserRouter, 但是refresh會有問題\r\n    <HashRouter>\r\n        <Switch>\r\n            <Provider store={store}>\r\n                <App className={styles}/>\r\n            </Provider>\r\n        </Switch>\r\n    </HashRouter>, \r\ndocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n","export const loadState = () => {\r\n    try {\r\n      const serializedState = localStorage.getItem('state');\r\n      if (serializedState === null) {\r\n        return undefined;\r\n      }\r\n      return JSON.parse(serializedState);\r\n    } catch (err) {\r\n      return undefined;\r\n    }\r\n  };\r\n  export const saveState = (state) => {\r\n    try {\r\n      const serializedState = JSON.stringify(state);\r\n      localStorage.setItem('state', serializedState);\r\n    } catch {\r\n      // ignore write errors\r\n    }\r\n  };"],"sourceRoot":""}